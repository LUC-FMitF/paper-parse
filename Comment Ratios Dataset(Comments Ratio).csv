"project","model","txt_file","tla_file","is_clean_file","txt_size_bytes","tla_size_bytes","description_ratio_pct","quality_flag","has_external_doc_ref","external_link_count","notes","IF THE RATIO IS <10%, then it is RED","","pdf_text","pdf_files"
"Bakery-Boulangerie","Bakery","data/Bakery-Boulangerie/txt/Bakery_comments.txt","data/Bakery-Boulangerie/tla/Bakery.tla","FALSE","8669","22455","38.61","OK","TRUE","1","http://lamport.azurewebsites.net/tla/hyperbook.html","IF THE RATIO IS >90%, then it is GREEN","

EXTENDS Naturals, TLAPS

CONSTANT N
ASSUME N ? Nat

Procs ? 1 .. N

a < b ?
  (a[1] < b[1]) ?
  ((a[1] = b[1]) ? (a[2] < b[2]))

************************************************************************
(* PlusCal algorithm *)
************************************************************************

--algorithm Bakery
variables
  num = [i ? Procs ? 0],
  flag = [i ? Procs ? FALSE];

fair process (self ? Procs)
variables
  unchecked = {},
  max = 0,
  nxt = 1;

{
ncs:
  while (TRUE) {
    e1:
      either
        { flag[self] := �flag[self]; goto e1; }
      or
        { flag[self] := TRUE;
          unchecked := Procs \ {self};
          max := 0;
        };

    e2:
      while (unchecked ? {}) {
        with (i ? unchecked) {
          unchecked := unchecked \ {i};
          if (num[i] > max) {
            max := num[i];
          }
        }
      };

    e3:
      either
        { with (k ? Nat) { num[self] := k; }
          goto e3; }
      or
        { with (i ? {j ? Nat : j > max}) {
            num[self] := i;
          }
        };

    e4:
      either
        { flag[self] := �flag[self]; goto e4; }
      or
        { flag[self] := FALSE;
          unchecked := Procs \ {self};
        };

    w1:
      while (unchecked ? {}) {
        with (i ? unchecked) {
          nxt := i;
        };
        await �flag[nxt];

        w2:
          await (num[nxt] = 0)
            ? ((num[self], self) < (num[nxt], nxt));

        unchecked := unchecked \ {nxt};
      };

    cs:
      skip;   \* critical section

    exit:
      either
        { with (k ? Nat) { num[self] := k; }
          goto exit; }
      or
        { num[self] := 0; }
  }
}

************************************************************************
(* TLA+ translation *)
************************************************************************

VARIABLES num, flag, pc, unchecked, max, nxt

vars ? ?num, flag, pc, unchecked, max, nxt?

ProcSet ? Procs

Init ?
  ? num = [i ? Procs ? 0]
  ? flag = [i ? Procs ? FALSE]
  ? unchecked = [self ? Procs ? {}]
  ? max = [self ? Procs ? 0]
  ? nxt = [self ? Procs ? 1]
  ? pc = [self ? ProcSet ? ""ncs""]

ncs(self) ?
  ? pc[self] = ""ncs""
  ? pc' = [pc EXCEPT ![self] = ""e1""]
  ? UNCHANGED ?num, flag, unchecked, max, nxt?

e1(self) ?
  ? pc[self] = ""e1""
  ? (
      ? ? flag' = [flag EXCEPT ![self] = �flag[self]]
        ? pc' = [pc EXCEPT ![self] = ""e1""]
        ? UNCHANGED ?unchecked, max?
      ? ? flag' = [flag EXCEPT ![self] = TRUE]
        ? unchecked' = [unchecked EXCEPT ![self] = Procs \ {self}]
        ? max' = [max EXCEPT ![self] = 0]
        ? pc' = [pc EXCEPT ![self] = ""e2""]
    )
  ? UNCHANGED ?num, nxt?

... (remaining e2, e3, e4, w1, w2, cs, exit steps follow same structure)

Next ? ? self ? Procs : p(self)

Spec ?
  ? Init
  ? [Next]_vars
  ? ? self ? Procs :
      WF_vars((pc[self] ? ""ncs"") ? p(self))

************************************************************************
(* Properties *)
************************************************************************

MutualExclusion ?
  ? i, j ? Procs :
    (i ? j) ? �(pc[i] = ""cs"" ? pc[j] = ""cs"")

TypeOK ?
  ? num ? [Procs ? Nat]
  ? flag ? [Procs ? BOOLEAN]
  ? unchecked ? [Procs ? SUBSET Procs]
  ? max ? [Procs ? Nat]
  ? nxt ? [Procs ? Procs]
  ? pc ? [Procs ? {
      ""ncs"",""e1"",""e2"",""e3"",""e4"",""w1"",""w2"",""cs"",""exit""
    }]

Inv ?
  ? TypeOK
  ? ? i ? Procs :
      (pc[i] ? {""ncs"",""e1"",""e2""}) ? num[i] = 0

","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"Bakery-Boulangerie","Bakery","data/Bakery-Boulangerie/txt/Bakery_comments_clean.txt","data/Bakery-Boulangerie/tla/Bakery_clean.tla","TRUE","6865","10422","65.87","OK","TRUE","1","http://lamport.azurewebsites.net/tla/hyperbook.html","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"Bakery-Boulangerie","Boulanger","data/Bakery-Boulangerie/txt/Boulanger_comments.txt","data/Bakery-Boulangerie/tla/Boulanger.tla","FALSE","13218","27553","47.97","OK","TRUE","1","http://lamport.azurewebsites.net/tla/hyperbook.html","","
This is an encoding of the Boulanger Algorithm and a proof that it implements
mutual exclusion. The bakery algorithm appeared in Leslie Lamport, �A New
Solution of Dijkstra�s Concurrent Programming Problem�, Communications of the
ACM 17, 8 (August 1974), 453�455.

The encoding differs from the Moses-Patkin algorithm in one respect. To enter
the critical section, the Boulanger version examines other processes one at a
time�in the while loop at label 1. The Moses-Patkin algorithm performs those
examinations in parallel. Because PlusCal does not allow sub-processes, it would
be difficult (but not impossible) to express that algorithm in PlusCal. It would
be easy to express their version in TLA+ (for example, by modifying the TLA+
translation of the code), and it should be straightforward to convert the
invariance proof presented here to a proof of the more general version. I will
leave that as an exercise for others.

I started with an encoding and invariance proof of the Bakery Algorithm. The
only non-obvious part of that encoding is how it represented the safe registers
assumed by the algorithm, which are registers in which reads and writes are not
atomic. A safe register is represented by a variable r whose value is written by
performing some number of atomic writes of nondeterministically chosen �legal�
values to r followed by a single write of the desired value. A read of the
register is performed by a single atomic read of r. It can be shown that this
captures the semantics of a safe register.

Starting from the original version of the Bakery Algorithm, it was easy to
modify it to the Boulanger Algorithm (with the simplification described above).
I model checked the algorithm on some small models to convince myself that
there were no trivial errors that would be likely to arise from an error in the
encoding. I then modified the invariant by a combination of a bit of thinking
and a fair amount of trial and error, finding errors in the invariant by model
checking very small models. (I checked it on two processes with chosen numbers
restricted to be at most 3.)

When checking on a small model revealed no error in the invariant, I checked
the proof with the TLAPS (the TLA+ proof system). The high level proof,
consisting of steps <1>1 � <1>4, are standard and are the same as for the Bakery
Algorithm. TLAPS checks this simple four-step proof for the Bakery Algorithm
with terminal proofs that just tell it to use the necessary assumptions and to
expand all definitions. This didn�t work for the hard part of the Boulanger
Algorithm�step <1>2 that checks inductive invariance.

When a proof doesn�t go through, one keeps decomposing the proof of the steps
that aren�t proved until one sees what the problem is. This decomposition is
done with little thinking and no typing using the Decompose Proof command.
(The Decompose Proof command is the real power of the TLA+ tools.) Step <1>2
has the form A ? B ? C, where B is a disjunction, and the Decompose Proof
command produces a level�<2> proof consisting of subgoals essentially of the
form A ? D ? C for the disjuncts D of B. Two of those subgoals weren�t proved.
I decomposed them both for several levels until I saw that in one of them, some
step wasn�t preserving the part of the invariant that asserts type-correctness.
I then quickly found the culprit: a silly error in the type invariant in which
I had in one place written the set of process numbers instead of the set of
natural numbers. After correcting that error, only one of the level�<2>
subgoals remained unproved: step <2>5. Using the Decompose Proof command as
far as I could on that step, one substep remained unproved. (I think it was at
level <5>.) Looking at what the proof obligations were, the obvious
decomposition was a two-way case split, which I did by manually entering
another level of subproof. One of those cases weren�t proved, so I tried another
two-way case split on it. That worked. I then made that substep the first step
of the (level <3>) proof of <2>5, moving its proof with it. With that additional
fact, TLAPS was able to prove <2>5 in one more step (the QED step).

The entire proof now is about 70 lines. I only typed 20 of those 70 lines. The
rest either came from the original Bakery Algorithm (8-line) proof or were
generated by the Decompose Proof Command.

I don�t know how much time I actually spent writing the algorithm and its proof.
Except for the final compaction of the (correct) proof of <2>5, the entire
exercise took me two days. However, most of that was spent tracking down bugs
in the TLAPS tool. We are in the process of moving TLAPS to a new version of
Eclipse, and there are many bugs that must be fixed before it�s ready to be
released. I would estimate that it would have taken me less than 4 hours
without bugs. I find it remarkable how little thinking the whole thing took.

This whole process was a lot easier than trying to write a convincing hand
proof�a proof that I would regard as adequate to justify publication of the
proof.

EXTENDS Integers, TLAPS

We first declare N to be the number of processes, and we assume that N is a
natural number.

CONSTANT N
ASSUME N ? Nat

We define Procs to be the set {1, 2, � , N} of processes.

Procs ? 1 .. N

? is defined to be the lexicographical less-than relation on pairs of numbers.

a ? b ?
    (a[1] < b[1]) ?
    ((a[1] = b[1]) ? (a[2] < b[2]))

** this is a comment containing the pluscal code **

--algorithm Boulanger
{
  num = [i ? Procs ? 0],
  flag = [i ? Procs ? FALSE];

  (self ? Procs)
  {
    unchecked = {},
    max = 0,
    nxt = 1,
    previous = -1;

    {
      1: while (TRUE)
      {
        1:
        {
          flag[self] := �flag[self];
        }
        or
        {
          flag[self] := TRUE;
          unchecked := Procs \ {self};
          max := 0;
        };

        2: while (unchecked ? {})
        {
          with (i ? unchecked)
          {
            unchecked := unchecked \ {i};
            if (num[i] > max)
            {
              max := num[i];
            };
          };
        };

        3:
        {
          num[self] := max + 1;
        };

        4:
        {
          flag[self] := �flag[self];
        };

        {
          flag[self] := FALSE;
          unchecked :=
            IF num[self] = 1
            THEN 1 .. (self - 1)
            ELSE Procs \ {self};
        };

        while (unchecked ? {})
        {
          with (i ? unchecked)
          {
            nxt := i;
          };

          await �flag[nxt];
          await (num[nxt] = 0)
            ? ((num[self], self) ? (num[nxt], nxt))
            ? (previous ? -1 ? num[nxt] ? previous);

          unchecked := unchecked \ {nxt};
          previous := num[nxt];
        };

        critical section;

        {
          num[self] := 0;
        };
      }
    }
  }
}

*** this ends the comment containing the pluscal code ***

BEGIN TRANSLATION

VARIABLES num, flag, pc, unchecked, max, nxt, previous

vars ? ?num, flag, pc, unchecked, max, nxt, previous?

ProcSet ? Procs

Init ?
  ? num = [i ? Procs ? 0]
  ? flag = [i ? Procs ? FALSE]
  ? unchecked = [self ? Procs ? {}]
  ? max = [self ? Procs ? 0]
  ? nxt = [self ? Procs ? 1]
  ? previous = [self ? Procs ? -1]
  ? pc = [self ? ProcSet ? ""ncs""]

...

END TRANSLATION

asserts that two distinct processes are in their critical sections.

=======================================================================
","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"Bakery-Boulangerie","Boulanger","data/Bakery-Boulangerie/txt/Boulanger_comments_clean.txt","data/Bakery-Boulangerie/tla/Boulanger_clean.tla","TRUE","10679","10672","100.07","OK","TRUE","1","http://lamport.azurewebsites.net/tla/hyperbook.html","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"CarTalkPuzzle","CarTalkPuzzle","data/CarTalkPuzzle/txt/CarTalkPuzzle_comments.txt","data/CarTalkPuzzle/tla/CarTalkPuzzle.tla","FALSE","9984","11295","88.39","OK","FALSE","0","","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: KeithArticle2011.pdf
================================================================================

VINTAGE PLASTIC SLIDING-LETTER PUZZLES
Mike Keith
Furlong, PA
One artifact from my childhood in the 1960’s that I still remember vividly is the series of plastic sliding-
block puzzles manufactured by The Roalex Company of Forest Hills, NY (no relation to the maker of fine
timepieces). These consisted of a high-quality plastic puzzle glued to a piece of cardboard containing
information about the puzzle. Most of their sixty or so
different designs were based on cartoons or TV shows of
the time, such as The Flintstones or The Honeymooners,
and typically consist of a single drawing spread over all
the tiles, or illustrations of four characters from the
show, one in each column. Usually the picture on each
tile is different, which means that, just like the Fifteen
Puzzle, only half of the possible permutations of the tiles
can actually be reached by sliding the tiles.
As a budding

---PDF SEPARATOR---

Source: fifteen-supp.pdf
================================================================================

The Fifteen Puzzle
A Motivating Example for
the Alternating Group
(Supplemental Material for
Intro to Modern Algebra)
Robert A. Beeler∗
August 7, 2015
1 Introduction
In the infamous “Fifteen Puzzle,” numbered tiles are slid either horizontally
or vertically into an empty slot. Folklore tells us that in 1886, puzzle master
Sam Loyd offered a one-thousand dollar prize if anyone could swap tiles 14
and 15 and return the other tiles to their original slots. However, Slocum’s
book [6] argues that the puzzle is much older. Regardless of the origins of the
puzzle, we wish to know if this is possible. Fortunately, the tools of modern
algebra will help us to unravel this puzzle. Our treatment of the puzzle will
follow many of the articles written on this puzzle such as [1, 4, 5, 7].
1 2 3 4 1 2 3 4
5 6 7 8 ? 5 6 7 8
9 10 11 12 → 9 10 11 12
13 14 15 13 15 14
∗Department of Mathematics andSt","RC474.pdf|KeithArticle2011.pdf|fifteen-supp.pdf"
"CarTalkPuzzle","CarTalkPuzzle","data/CarTalkPuzzle/txt/CarTalkPuzzle_comments_clean.txt","data/CarTalkPuzzle/tla/CarTalkPuzzle_clean.tla","TRUE","8449","1069","790.36","OK","FALSE","0","","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: KeithArticle2011.pdf
================================================================================

VINTAGE PLASTIC SLIDING-LETTER PUZZLES
Mike Keith
Furlong, PA
One artifact from my childhood in the 1960’s that I still remember vividly is the series of plastic sliding-
block puzzles manufactured by The Roalex Company of Forest Hills, NY (no relation to the maker of fine
timepieces). These consisted of a high-quality plastic puzzle glued to a piece of cardboard containing
information about the puzzle. Most of their sixty or so
different designs were based on cartoons or TV shows of
the time, such as The Flintstones or The Honeymooners,
and typically consist of a single drawing spread over all
the tiles, or illustrations of four characters from the
show, one in each column. Usually the picture on each
tile is different, which means that, just like the Fifteen
Puzzle, only half of the possible permutations of the tiles
can actually be reached by sliding the tiles.
As a budding

---PDF SEPARATOR---

Source: fifteen-supp.pdf
================================================================================

The Fifteen Puzzle
A Motivating Example for
the Alternating Group
(Supplemental Material for
Intro to Modern Algebra)
Robert A. Beeler∗
August 7, 2015
1 Introduction
In the infamous “Fifteen Puzzle,” numbered tiles are slid either horizontally
or vertically into an empty slot. Folklore tells us that in 1886, puzzle master
Sam Loyd offered a one-thousand dollar prize if anyone could swap tiles 14
and 15 and return the other tiles to their original slots. However, Slocum’s
book [6] argues that the puzzle is much older. Regardless of the origins of the
puzzle, we wish to know if this is possible. Fortunately, the tools of modern
algebra will help us to unravel this puzzle. Our treatment of the puzzle will
follow many of the articles written on this puzzle such as [1, 4, 5, 7].
1 2 3 4 1 2 3 4
5 6 7 8 ? 5 6 7 8
9 10 11 12 → 9 10 11 12
13 14 15 13 15 14
∗Department of Mathematics andSt","RC474.pdf|KeithArticle2011.pdf|fifteen-supp.pdf"
"CarTalkPuzzle","orc-solution","data/CarTalkPuzzle/txt/orc-solution.txt","","FALSE","1720","0","0","RED","FALSE","0","","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: KeithArticle2011.pdf
================================================================================

VINTAGE PLASTIC SLIDING-LETTER PUZZLES
Mike Keith
Furlong, PA
One artifact from my childhood in the 1960’s that I still remember vividly is the series of plastic sliding-
block puzzles manufactured by The Roalex Company of Forest Hills, NY (no relation to the maker of fine
timepieces). These consisted of a high-quality plastic puzzle glued to a piece of cardboard containing
information about the puzzle. Most of their sixty or so
different designs were based on cartoons or TV shows of
the time, such as The Flintstones or The Honeymooners,
and typically consist of a single drawing spread over all
the tiles, or illustrations of four characters from the
show, one in each column. Usually the picture on each
tile is different, which means that, just like the Fifteen
Puzzle, only half of the possible permutations of the tiles
can actually be reached by sliding the tiles.
As a budding

---PDF SEPARATOR---

Source: fifteen-supp.pdf
================================================================================

The Fifteen Puzzle
A Motivating Example for
the Alternating Group
(Supplemental Material for
Intro to Modern Algebra)
Robert A. Beeler∗
August 7, 2015
1 Introduction
In the infamous “Fifteen Puzzle,” numbered tiles are slid either horizontally
or vertically into an empty slot. Folklore tells us that in 1886, puzzle master
Sam Loyd offered a one-thousand dollar prize if anyone could swap tiles 14
and 15 and return the other tiles to their original slots. However, Slocum’s
book [6] argues that the puzzle is much older. Regardless of the origins of the
puzzle, we wish to know if this is possible. Fortunately, the tools of modern
algebra will help us to unravel this puzzle. Our treatment of the puzzle will
follow many of the articles written on this puzzle such as [1, 4, 5, 7].
1 2 3 4 1 2 3 4
5 6 7 8 ? 5 6 7 8
9 10 11 12 → 9 10 11 12
13 14 15 13 15 14
∗Department of Mathematics andSt","RC474.pdf|KeithArticle2011.pdf|fifteen-supp.pdf"
"CarTalkPuzzle","orc-solution_clean","data/CarTalkPuzzle/txt/orc-solution_clean.txt","","TRUE","1641","0","0","RED","FALSE","0","","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: KeithArticle2011.pdf
================================================================================

VINTAGE PLASTIC SLIDING-LETTER PUZZLES
Mike Keith
Furlong, PA
One artifact from my childhood in the 1960’s that I still remember vividly is the series of plastic sliding-
block puzzles manufactured by The Roalex Company of Forest Hills, NY (no relation to the maker of fine
timepieces). These consisted of a high-quality plastic puzzle glued to a piece of cardboard containing
information about the puzzle. Most of their sixty or so
different designs were based on cartoons or TV shows of
the time, such as The Flintstones or The Honeymooners,
and typically consist of a single drawing spread over all
the tiles, or illustrations of four characters from the
show, one in each column. Usually the picture on each
tile is different, which means that, just like the Fifteen
Puzzle, only half of the possible permutations of the tiles
can actually be reached by sliding the tiles.
As a budding

---PDF SEPARATOR---

Source: fifteen-supp.pdf
================================================================================

The Fifteen Puzzle
A Motivating Example for
the Alternating Group
(Supplemental Material for
Intro to Modern Algebra)
Robert A. Beeler∗
August 7, 2015
1 Introduction
In the infamous “Fifteen Puzzle,” numbered tiles are slid either horizontally
or vertically into an empty slot. Folklore tells us that in 1886, puzzle master
Sam Loyd offered a one-thousand dollar prize if anyone could swap tiles 14
and 15 and return the other tiles to their original slots. However, Slocum’s
book [6] argues that the puzzle is much older. Regardless of the origins of the
puzzle, we wish to know if this is possible. Fortunately, the tools of modern
algebra will help us to unravel this puzzle. Our treatment of the puzzle will
follow many of the articles written on this puzzle such as [1, 4, 5, 7].
1 2 3 4 1 2 3 4
5 6 7 8 ? 5 6 7 8
9 10 11 12 → 9 10 11 12
13 14 15 13 15 14
∗Department of Mathematics andSt","RC474.pdf|KeithArticle2011.pdf|fifteen-supp.pdf"
"Chameneos","Chameneos","data/Chameneos/txt/Chameneos_comments.txt","data/Chameneos/tla/Chameneos.tla","FALSE","1196","3691","32.4","OK","TRUE","1","https://github.com/mryndzionek/tlaplus_specs#chameneostla","","Game termination
Given an initial population of Chameneos, the game
does not always reaches a final state in which all chameneos
have the same colour, and therefore in which no one can
mutate anymore.As a matter of fact, according to their initial
value and to the population size, the chameneos population
may belong to one of three possible connected components
and therefore cannot move from one connected component
to another one. Thus the evolution may end only when the
initial state is in the same connected components as one final
state, else it never stops. For example, if is a multiple of
( + ) then the initial state ( - ) may lead to
termination whilst ( - ) doesn�t. // ============================================================================
// class IdChameneos
// ============================================================================

public class IdChameneos {
    private final int value;

    public IdChameneos(int val) {
        value = val;
    }

    public String toString() {
        return value + """";
    }
}
// ============================================================================
// class Colour
// ============================================================================

public class Colour {
    public int internalColour;

    private static final int blueInt   = 0;
    private static final int redInt    = 1;
    private static final int yellowInt = 2;

    public static final Colour BLUE   = new Colour(blueInt);
    public static final Colour RED    = new Colour(redInt);
    public static final Colour YELLOW = new Colour(yellowInt);

    private Colour(int value) {
        internalColour = value % 3;
    }

    public Colour ComplementaryColour(Colour C) {
        if (internalColour == C.internalColour)
            return new Colour(internalColour);
        else
            return new Colour(3 - internalColour - C.internalColour);
    }

    public String toString() {
        if (internalColour == blueInt)
            return ""blue"";
        else if (internalColour == redInt)
            return ""red"";
        else
            return ""yellow"";
    }
} // ============================================================================
// class Mall
// ============================================================================

public class Mall {
    private Colour AColour, BColour;
    private boolean FirstCall = true;
    private boolean MustWait = false;

    public synchronized Colour Cooperation(IdChameneos x, Colour C) {
        Colour result;

        while (MustWait) {
            try {
                wait();
            } catch (InterruptedException e) {}
        }

        if (FirstCall) {
            AColour = C;
            FirstCall = false;

            while (!FirstCall) {
                try {
                    wait();
                } catch (InterruptedException e) {}
            }

            MustWait = false;
            result = BColour;
            notifyAll();
        }
        else {
            BColour = C;
            result = AColour;
            FirstCall = true;
            MustWait = true;
            notifyAll();
        }

        return result;
    }
}
// ============================================================================
// class Chameneos
// ============================================================================

public class Chameneos extends Thread {
    private Mall mall;
    private IdChameneos id;
    private Colour myColour, otherColour;

    public Chameneos(Mall m, IdChameneos id, Colour c) {
        this.mall = m;
        this.id = id;
        this.myColour = c;
    }

    private void Message(String Mess) {
        System.out.println(""("" + id.toString() + "") I am "" +
                myColour.toString() + "" and "" + Mess);
    }

    private void EatingHoneysuckleAndTraining() {
        Message(""I am Eating Honeysuckle and Training"");
    }

    private void GoingToTheMall() {
        Message(""I am going to the mall"");
    }

    private void Mutating() {
        Message(""I am going to mute"");
        otherColour = mall.Cooperation(id, myColour);
        myColour = myColour.ComplementaryColour(otherColour);
        Message(""I have done a mutation"");
    }

    public void run() {
        while (true) {
            EatingHoneysuckleAndTraining();
            GoingToTheMall();
            Mutating();
        }
    }
}// ============================================================================
// class Simulation (the main class)
// ============================================================================

public class Simulation {

    static Colour[] TheColours = {
        Colour.YELLOW,
        Colour.BLUE,
        Colour.RED,
        Colour.BLUE,
        Colour.YELLOW,
        Colour.BLUE
    };

    static Chameneos[] TheChameneos =
        new Chameneos[TheColours.length];

    public static void main(String args[]) {
        Mall myMall = new Mall();

        for (int i = 0; i < TheColours.length; i++) {
            TheChameneos[i] =
                new Chameneos(myMall, new IdChameneos(i), TheColours[i]);
        }

        for (int i = 0; i < TheColours.length; i++) {
            TheChameneos[i].start();
        }
    }
}
","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"Chameneos","Chameneos","data/Chameneos/txt/Chameneos_comments_clean.txt","data/Chameneos/tla/Chameneos_clean.tla","TRUE","1143","1970","58.02","OK","TRUE","1","https://github.com/mryndzionek/tlaplus_specs#chameneostla","","------------------------------ MODULE Chameneos ------------------------------

A specification of a 'concurrency game' requiring concurrent and symmetrical
cooperation -
https://cedric.cnam.fr/fichiers/RC474.pdf

EXTENDS Integers

N - number of total meeting after which chameneoses fade
M - number of chameneoses

CONSTANT N, M
ASSUME N ? (Nat \ {0}) ? M ? (Nat \ {0})

VARIABLE chameneoses, meetingPlace, numMeetings

vars ? ? chameneoses, meetingPlace, numMeetings ?

Color ? { ""blue"", ""red"", ""yellow"" }
Faded ? CHOOSE c : c ? Color

ChameneosID ? 1 .. M
MeetingPlaceEmpty ? CHOOSE e : e ? ChameneosID

RECURSIVE Sum(_, _)
Sum(f, S) ?
    IF S = {}
    THEN 0
    ELSE
        LET x ? CHOOSE x ? S : TRUE
        IN f[x] + Sum(f, S \ {x})

TypeOK ?
    ? chameneoses ? [ChameneosID ? (Color ? {Faded}) � (0 .. N)]
    ? meetingPlace ? ChameneosID ? {MeetingPlaceEmpty}

Complement(c1, c2) ?
    IF c1 = c2
    THEN c1
    ELSE CHOOSE cid ? Color \ {c1, c2} : TRUE

Meet(cid) ?
    IF meetingPlace = MeetingPlaceEmpty
    THEN
        IF numMeetings < N
        THEN
            \* chameneos enters empty meeting place
            ? meetingPlace' = cid
            ? UNCHANGED ? chameneoses, numMeetings ?
        ELSE
            \* chameneos takes on faded color
            ? chameneoses' =
                [ chameneoses EXCEPT ![cid] = ? Faded, @ [2] ? ]
            ? UNCHANGED ? meetingPlace, numMeetings ?
    ELSE
        \* meeting place is not empty - two chameneoses mutate
        ? meetingPlace ? cid
        ? meetingPlace' = MeetingPlaceEmpty
        ? chameneoses' =
            LET newColor ?
                Complement(chameneoses[cid][1],
                           chameneoses[meetingPlace][1])
            IN
                [ chameneoses EXCEPT
                    ![cid] = ? newColor, @ [2] + 1 ?,
                    ![meetingPlace] = ? newColor, @ [2] + 1 ?
                ]
        ? numMeetings' = numMeetings + 1

Init ?
    ? chameneoses ? [ChameneosID ? Color � {0}]
    ? meetingPlace = MeetingPlaceEmpty
    ? numMeetings = 0

\* repeatedly try to enter meeting place for chameneoses that are not faded yet
Next ?
    ? ? c ? { x ? ChameneosID : chameneoses[x][1] ? Faded } :
        Meet(c)

Spec ? Init ? ?[Next]_vars

SumMet ?
    numMeetings = N ?
        LET f[c ? ChameneosID] ? chameneoses[c][2]
        IN Sum(f, ChameneosID) = 2 * N

-------------------------------------------------------------------------------
","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"CheckpointCoordination","CheckpointCoordination","data/CheckpointCoordination/txt/CheckpointCoordination_comments.txt","data/CheckpointCoordination/tla/CheckpointCoordination.tla","FALSE","12193","23693","51.46","OK","TRUE","3","https://github.com/Azure/RSL; https://ahelwer.ca/post/2023-04-05-checkpoint-coordination; https://github.com/Azure/RingMaster","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"CheckpointCoordination","CheckpointCoordination","data/CheckpointCoordination/txt/CheckpointCoordination_comments_clean.txt","data/CheckpointCoordination/tla/CheckpointCoordination_clean.tla","TRUE","11773","10474","112.4","OK","TRUE","3","https://github.com/Azure/RSL; https://ahelwer.ca/post/2023-04-05-checkpoint-coordination; https://github.com/Azure/RingMaster","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"CheckpointCoordination","MCCheckpointCoordination","data/CheckpointCoordination/txt/MCCheckpointCoordination_comments.txt","data/CheckpointCoordination/tla/MCCheckpointCoordination.tla","FALSE","58","600","9.67","RED","TRUE","3","https://github.com/Azure/RSL; https://ahelwer.ca/post/2023-04-05-checkpoint-coordination; https://github.com/Azure/RingMaster","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"CheckpointCoordination","MCCheckpointCoordination","data/CheckpointCoordination/txt/MCCheckpointCoordination_comments_clean.txt","data/CheckpointCoordination/tla/MCCheckpointCoordination_clean.tla","TRUE","54","532","10.15","YELLOW","TRUE","3","https://github.com/Azure/RSL; https://ahelwer.ca/post/2023-04-05-checkpoint-coordination; https://github.com/Azure/RingMaster","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"CigaretteSmokers","CigaretteSmokers","data/CigaretteSmokers/txt/CigaretteSmokers_comments.txt","data/CigaretteSmokers/tla/CigaretteSmokers.tla","FALSE","1560","2915","53.52","OK","TRUE","1","https://github.com/mryndzionek/tlaplus_specs#cigarettesmokerstla","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"CigaretteSmokers","CigaretteSmokers","data/CigaretteSmokers/txt/CigaretteSmokers_comments_clean.txt","data/CigaretteSmokers/tla/CigaretteSmokers_clean.tla","TRUE","1507","1124","134.07","OK","TRUE","1","https://github.com/mryndzionek/tlaplus_specs#cigarettesmokerstla","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"CoffeeCan","CoffeeCan","data/CoffeeCan/txt/CoffeeCan_comments.txt","data/CoffeeCan/tla/CoffeeCan.tla","FALSE","3944","5442","72.47","OK","FALSE","0","","","","",""
"CoffeeCan","CoffeeCan","data/CoffeeCan/txt/CoffeeCan_comments_clean.txt","data/CoffeeCan/tla/CoffeeCan_clean.tla","TRUE","3276","1389","235.85","OK","FALSE","0","","","","",""
"DieHard","DieHard","data/DieHard/txt/DieHard_comments.txt","data/DieHard/tla/DieHard.tla","FALSE","7046","8160","86.35","OK","FALSE","0","","","","",""
"DieHard","DieHard","data/DieHard/txt/DieHard_comments_clean.txt","data/DieHard/tla/DieHard_clean.tla","TRUE","6358","904","703.32","OK","FALSE","0","","","","",""
"DieHard","DieHarder","data/DieHard/txt/DieHarder_comments.txt","data/DieHard/tla/DieHarder.tla","FALSE","4704","5923","79.42","OK","FALSE","0","","","","",""
"DieHard","DieHarder","data/DieHard/txt/DieHarder_comments_clean.txt","data/DieHard/tla/DieHarder_clean.tla","TRUE","4160","1098","378.87","OK","FALSE","0","","","","",""
"DieHard","MCDieHarder","data/DieHard/txt/MCDieHarder_comments.txt","data/DieHard/tla/MCDieHarder.tla","FALSE","850","1141","74.5","OK","FALSE","0","","","","",""
"DieHard","MCDieHarder","data/DieHard/txt/MCDieHarder_comments_clean.txt","data/DieHard/tla/MCDieHarder_clean.tla","TRUE","818","266","307.52","OK","FALSE","0","","","","",""
"DiningPhilosophers","DiningPhilosophers","data/DiningPhilosophers/txt/DiningPhilosophers_comments.txt","data/DiningPhilosophers/tla/DiningPhilosophers.tla","FALSE","5170","7827","66.05","OK","FALSE","3","","","","",""
"DiningPhilosophers","DiningPhilosophers","data/DiningPhilosophers/txt/DiningPhilosophers_comments_clean.txt","data/DiningPhilosophers/tla/DiningPhilosophers_clean.tla","TRUE","4499","2427","185.37","OK","FALSE","3","","","","",""
"Disruptor","Disruptor_MPMC","data/Disruptor/txt/Disruptor_MPMC_comments.txt","data/Disruptor/tla/Disruptor_MPMC.tla","FALSE","4605","9143","50.37","OK","TRUE","2","https://github.com/LMAX-Exchange; https://github.com/nicholassm/disruptor-rs","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"Disruptor","Disruptor_MPMC","data/Disruptor/txt/Disruptor_MPMC_comments_clean.txt","data/Disruptor/tla/Disruptor_MPMC_clean.tla","TRUE","4288","4102","104.53","OK","TRUE","2","https://github.com/LMAX-Exchange; https://github.com/nicholassm/disruptor-rs","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"Disruptor","Disruptor_SPMC","data/Disruptor/txt/Disruptor_SPMC_comments.txt","data/Disruptor/tla/Disruptor_SPMC.tla","FALSE","3558","6607","53.85","OK","TRUE","2","https://github.com/LMAX-Exchange; https://github.com/nicholassm/disruptor-rs","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"Disruptor","Disruptor_SPMC","data/Disruptor/txt/Disruptor_SPMC_comments_clean.txt","data/Disruptor/tla/Disruptor_SPMC_clean.tla","TRUE","3210","2764","116.14","OK","TRUE","2","https://github.com/LMAX-Exchange; https://github.com/nicholassm/disruptor-rs","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"Disruptor","RingBuffer","data/Disruptor/txt/RingBuffer_comments.txt","data/Disruptor/tla/RingBuffer.tla","FALSE","2242","3762","59.6","OK","TRUE","2","https://github.com/LMAX-Exchange; https://github.com/nicholassm/disruptor-rs","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"Disruptor","RingBuffer","data/Disruptor/txt/RingBuffer_comments_clean.txt","data/Disruptor/tla/RingBuffer_clean.tla","TRUE","2013","1431","140.67","OK","TRUE","2","https://github.com/LMAX-Exchange; https://github.com/nicholassm/disruptor-rs","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"EinsteinRiddle","Einstein","data/EinsteinRiddle/txt/Einstein_comments.txt","data/EinsteinRiddle/tla/Einstein.tla","FALSE","4499","7781","57.82","OK","FALSE","1","","","","",""
"EinsteinRiddle","Einstein","data/EinsteinRiddle/txt/Einstein_comments_clean.txt","data/EinsteinRiddle/tla/Einstein_clean.tla","TRUE","3966","3024","131.15","OK","FALSE","1","","","","",""
"FiniteMonotonic","CRDT","data/FiniteMonotonic/txt/CRDT_comments.txt","data/FiniteMonotonic/tla/CRDT.tla","FALSE","678","1882","36.03","OK","FALSE","0","","","","",""
"FiniteMonotonic","CRDT","data/FiniteMonotonic/txt/CRDT_comments_clean.txt","data/FiniteMonotonic/tla/CRDT_clean.tla","TRUE","652","1151","56.65","OK","FALSE","0","","","","",""
"FiniteMonotonic","CRDT_proof","data/FiniteMonotonic/txt/CRDT_proof_comments.txt","data/FiniteMonotonic/tla/CRDT_proof.tla","FALSE","3194","14342","22.27","OK","FALSE","0","","","","",""
"FiniteMonotonic","CRDT_proof","data/FiniteMonotonic/txt/CRDT_proof_comments_clean.txt","data/FiniteMonotonic/tla/CRDT_proof_clean.tla","TRUE","3065","9807","31.25","OK","FALSE","0","","","","",""
"FiniteMonotonic","DistributedReplicatedLog","data/FiniteMonotonic/txt/DistributedReplicatedLog_comments.txt","data/FiniteMonotonic/tla/DistributedReplicatedLog.tla","FALSE","333","2200","15.14","YELLOW","FALSE","0","","","","",""
"FiniteMonotonic","DistributedReplicatedLog","data/FiniteMonotonic/txt/DistributedReplicatedLog_comments_clean.txt","data/FiniteMonotonic/tla/DistributedReplicatedLog_clean.tla","TRUE","311","1681","18.5","YELLOW","FALSE","0","","","","",""
"FiniteMonotonic","MCCRDT","data/FiniteMonotonic/txt/MCCRDT_comments.txt","data/FiniteMonotonic/tla/MCCRDT.tla","FALSE","285","1009","28.25","OK","TRUE","1","References GitHub: github.com/tlaplus/tlaplus/pull/805","","
A classic example is in a spec that implies x and y are numbers, where

A == (x'=x) /\ (y'=x+1)

B == (x /= y) /\ (x' = x) /\ (y' = x)

Then

V1: ((A \cdot B) WITH x <- z, y <- z) equals z'=z

V2: (A WITH x <- z, y <- z) \cdot (B WITH x <- z, y <- z) equals FALSE

This is the classic example of an action A showing that instantiation doesn't distribute over ENABLED.
""For each subexpression of the form B \cdot C, replace each primed occurrence of x in B and each unprimed occurrence of x in C by a new symbol $x that is different from any identifier and from any other symbol that occurs in B or C."" (Section 17.8 ""The semantics of instantiation"" on page 338 of Specifying Systems)

V1

We first apply the above replacement rule for \cdot, followed by the substitution (WITH):

($x = x /\ $y = x + 1) \cdot ($x # $y /\ x' = $x /\ y' = $x)

($x = z /\ $y = z + 1) \cdot ($x # $y /\ z' = $x /\ z' = $x)

Thus: z = z'

V2

We apply substitution before replacement:

(...) \cdot (z # z /\ ...)

Thus: FALSE (Contradiction)

Full spec

------ MODULE ActionCompositionEnabled ------

VARIABLE x, y, z
vars == <<x, y, z>>

HL == INSTANCE HL 
      WITH x <- z, 
           y <- z

Init ==
    /\ z = 1
    \* This should rather be A!Init, but TLC won't accept it:
    \*  Error: current state is not a legal state
    \*  While working on the initial state:
    \*  /\ x = null
    \*  /\ y = null
    \*  /\ z = 0
    /\ x = 0
    /\ y = 0

--------------------------

ANext ==
	/\ HL!Next

ASpec == 
	Init /\ [][ANext]_vars

--------------------------

BNext ==
	/\ HL!A \cdot HL!B

BSpec == 
	Init /\ [][BNext]_vars

==========================

-------- MODULE HL -------
EXTENDS Naturals

VARIABLE x, y

Init ==
    /\ x = 0
    /\ y = 0

A ==
    /\ y' = x + 1
    /\ UNCHANGED x

B ==
    /\ x  # y
    /\ y' = x
    /\ UNCHANGED x

Next ==
    A \cdot B

Spec ==
    Init /\ [][Next]_<<x,y>>
","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"FiniteMonotonic","MCCRDT","data/FiniteMonotonic/txt/MCCRDT_comments_clean.txt","data/FiniteMonotonic/tla/MCCRDT_clean.tla","TRUE","269","666","40.39","OK","TRUE","1","References GitHub: github.com/tlaplus/tlaplus/pull/805","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"FiniteMonotonic","MCDistributedReplicatedLog","data/FiniteMonotonic/txt/MCDistributedReplicatedLog_comments.txt","data/FiniteMonotonic/tla/MCDistributedReplicatedLog.tla","FALSE","367","751","48.87","OK","FALSE","0","","","","",""
"FiniteMonotonic","MCDistributedReplicatedLog","data/FiniteMonotonic/txt/MCDistributedReplicatedLog_comments_clean.txt","data/FiniteMonotonic/tla/MCDistributedReplicatedLog_clean.tla","TRUE","342","359","95.26","OK","FALSE","0","","","","",""
"FiniteMonotonic","MCReplicatedLog","data/FiniteMonotonic/txt/MCReplicatedLog_comments.txt","data/FiniteMonotonic/tla/MCReplicatedLog.tla","FALSE","321","1148","27.96","OK","TRUE","1","References GitHub: github.com/tlaplus/tlaplus/pull/805","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"FiniteMonotonic","MCReplicatedLog","data/FiniteMonotonic/txt/MCReplicatedLog_comments_clean.txt","data/FiniteMonotonic/tla/MCReplicatedLog_clean.tla","TRUE","302","741","40.76","OK","TRUE","1","References GitHub: github.com/tlaplus/tlaplus/pull/805","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"FiniteMonotonic","ReplicatedLog","data/FiniteMonotonic/txt/ReplicatedLog_comments.txt","data/FiniteMonotonic/tla/ReplicatedLog.tla","FALSE","702","2784","25.22","OK","FALSE","0","","","","",""
"FiniteMonotonic","ReplicatedLog","data/FiniteMonotonic/txt/ReplicatedLog_comments_clean.txt","data/FiniteMonotonic/tla/ReplicatedLog_clean.tla","TRUE","656","1978","33.16","OK","FALSE","0","","","","",""
"Huang","Huang","data/Huang/txt/Huang_comments.txt","data/Huang/tla/Huang.tla","FALSE","836","4197","19.92","YELLOW","FALSE","1","","","","",""
"Huang","Huang","data/Huang/txt/Huang_comments_clean.txt","data/Huang/tla/Huang_clean.tla","TRUE","787","2901","27.13","OK","FALSE","1","","","","",""
"KeyValueStore","ClientCentric","data/KeyValueStore/txt/ClientCentric_comments.txt","data/KeyValueStore/tla/ClientCentric.tla","FALSE","4552","10360","43.94","OK","TRUE","2","https://dl.acm.org/doi/10.1145/3087801.3087802","","","",""
"KeyValueStore","ClientCentric","data/KeyValueStore/txt/ClientCentric_comments_clean.txt","data/KeyValueStore/tla/ClientCentric_clean.tla","TRUE","4256","5435","78.31","OK","TRUE","2","https://dl.acm.org/doi/10.1145/3087801.3087802","","","",""
"KeyValueStore","KVsnap","data/KeyValueStore/txt/KVsnap_comments.txt","data/KeyValueStore/tla/KVsnap.tla","FALSE","3850","6780","56.78","OK","FALSE","1","","","","",""
"KeyValueStore","KVsnap","data/KeyValueStore/txt/KVsnap_comments_clean.txt","data/KeyValueStore/tla/KVsnap_clean.tla","TRUE","3478","3146","110.55","OK","FALSE","1","","","","",""
"KeyValueStore","KeyValueStore","data/KeyValueStore/txt/KeyValueStore_comments.txt","data/KeyValueStore/tla/KeyValueStore.tla","FALSE","1901","5241","36.27","OK","FALSE","0","","","","",""
"KeyValueStore","KeyValueStore","data/KeyValueStore/txt/KeyValueStore_comments_clean.txt","data/KeyValueStore/tla/KeyValueStore_clean.tla","TRUE","1791","2778","64.47","OK","FALSE","0","","","","",""
"KeyValueStore","MCKVsnap","data/KeyValueStore/txt/MCKVsnap_comments.txt","data/KeyValueStore/tla/MCKVsnap.tla","FALSE","48","262","18.32","YELLOW","FALSE","0","","","","",""
"KeyValueStore","MCKVsnap","data/KeyValueStore/txt/MCKVsnap_comments_clean.txt","data/KeyValueStore/tla/MCKVsnap_clean.tla","TRUE","44","213","20.66","OK","FALSE","0","","","","",""
"KeyValueStore","Util","data/KeyValueStore/txt/Util_comments.txt","data/KeyValueStore/tla/Util.tla","FALSE","505","1700","29.71","OK","FALSE","0","","","","",""
"KeyValueStore","Util","data/KeyValueStore/txt/Util_comments_clean.txt","data/KeyValueStore/tla/Util_clean.tla","TRUE","477","1104","43.21","OK","FALSE","0","","","","",""
"KnuthYao","KnuthYao","data/KnuthYao/txt/KnuthYao_comments.txt","data/KnuthYao/tla/KnuthYao.tla","FALSE","312","1314","23.74","OK","TRUE","1","https://www.youtube.com/watch?v=cYenTPD7740","","","",""
"KnuthYao","KnuthYao","data/KnuthYao/txt/KnuthYao_comments_clean.txt","data/KnuthYao/tla/KnuthYao_clean.tla","TRUE","296","817","36.23","OK","TRUE","1","https://www.youtube.com/watch?v=cYenTPD7740","","","",""
"KnuthYao","SimKnuthYao","data/KnuthYao/txt/SimKnuthYao_comments.txt","data/KnuthYao/tla/SimKnuthYao.tla","FALSE","1315","3794","34.66","OK","TRUE","1","https://www.youtube.com/watch?v=cYenTPD7740","","","",""
"KnuthYao","SimKnuthYao","data/KnuthYao/txt/SimKnuthYao_comments_clean.txt","data/KnuthYao/tla/SimKnuthYao_clean.tla","TRUE","1224","2146","57.04","OK","TRUE","1","https://www.youtube.com/watch?v=cYenTPD7740","","","",""
"LearnProofs","AddTwo","data/LearnProofs/txt/AddTwo_comments.txt","data/LearnProofs/tla/AddTwo.tla","FALSE","834","1748","47.71","OK","FALSE","0","","","","",""
"LearnProofs","AddTwo","data/LearnProofs/txt/AddTwo_comments_clean.txt","data/LearnProofs/tla/AddTwo_clean.tla","TRUE","712","859","82.89","OK","FALSE","0","","","","",""
"LearnProofs","FindHighest","data/LearnProofs/txt/FindHighest_comments.txt","data/LearnProofs/tla/FindHighest.tla","FALSE","2478","5475","45.26","OK","FALSE","0","","","","",""
"LearnProofs","FindHighest","data/LearnProofs/txt/FindHighest_comments_clean.txt","data/LearnProofs/tla/FindHighest_clean.tla","TRUE","2256","2720","82.94","OK","FALSE","0","","","","",""
"LeastCircularSubstring","LeastCircularSubstring","data/LeastCircularSubstring/txt/LeastCircularSubstring_comments.txt","data/LeastCircularSubstring/tla/LeastCircularSubstring.tla","FALSE","1536","4344","35.36","OK","TRUE","1","https://ahelwer.ca/post/2023-03-30-pseudocode/","","","",""
"LeastCircularSubstring","LeastCircularSubstring","data/LeastCircularSubstring/txt/LeastCircularSubstring_comments_clean.txt","data/LeastCircularSubstring/tla/LeastCircularSubstring_clean.tla","TRUE","1347","2374","56.74","OK","TRUE","1","https://ahelwer.ca/post/2023-03-30-pseudocode/","","","",""
"LeastCircularSubstring","ZSequences","data/LeastCircularSubstring/txt/ZSequences_comments.txt","data/LeastCircularSubstring/tla/ZSequences.tla","FALSE","946","2211","42.79","OK","TRUE","1","https://ahelwer.ca/post/2023-03-30-pseudocode/","","","",""
"LeastCircularSubstring","ZSequences","data/LeastCircularSubstring/txt/ZSequences_comments_clean.txt","data/LeastCircularSubstring/tla/ZSequences_clean.tla","TRUE","902","1158","77.89","OK","TRUE","1","https://ahelwer.ca/post/2023-03-30-pseudocode/","","","",""
"LeastCircularSubstring","requirements","data/LeastCircularSubstring/txt/requirements.txt","","FALSE","38","0","0","RED","TRUE","1","https://ahelwer.ca/post/2023-03-30-pseudocode/","","","",""
"LeastCircularSubstring","requirements_clean","data/LeastCircularSubstring/txt/requirements_clean.txt","","TRUE","36","0","0","RED","TRUE","1","https://ahelwer.ca/post/2023-03-30-pseudocode/","","","",""
"LevelChecking","LevelSpec","data/LevelChecking/txt/LevelSpec_comments.txt","data/LevelChecking/tla/LevelSpec.tla","FALSE","97596","131828","74.03","OK","FALSE","0","","","","",""
"LevelChecking","LevelSpec","data/LevelChecking/txt/LevelSpec_comments_clean.txt","data/LevelChecking/tla/LevelSpec_clean.tla","TRUE","85685","18146","472.2","OK","FALSE","0","","","","",""
"LoopInvariance","BinarySearch","data/LoopInvariance/txt/BinarySearch_comments.txt","data/LoopInvariance/tla/BinarySearch.tla","FALSE","3923","11351","34.56","OK","TRUE","1","http://lamport.azurewebsites.net/tla/proving-safety","","Binary search is a classic algorithm for searching a list of items sorted by
key to find one with a given key. We can most simply describe the algorithm
by assuming that the items consist only of keys, which are integers. So we assume as input a sorted sequence seq of integers and an integer val , and we let the algorithm set result to the computed output. The postcondition is that the result equals a number i such that seq[i] equals val if such an i exists; otherwise, result equals 0 . Again, to make model checking easier, we assume that seq is a sequence of values in some set Values of integers. The assumption that the sequence is sorted is expressed by requiring it to be an element of the set SortedSeqs of all sorted sequences of elements in Values , which can be defined by: SortedSeqs == {ss \in Seq(Values) : \A i, j \in 1..Len(ss) : (i < j) => (ss[i] =< ss[j])} The algorithm is in Figure 5. You will have to define the postcondition as well as the loop invariant. However, writing a correct binary search algorithm is tricky. Before looking at Figure 5, try writing your own binary search algorithm in PlusCal and checking it with TLC. It should begin with the variable declarations seq \in SortedSeqs, val \in Values, 31 --fair algorithm BinarySearch { variables seq \in SortedSeqs, val \in Values, low = 1, high = Len(seq), result = 0 ; { a: while (low =< high /\ result = 0) { with (mid = (low + high) \div 2, mval = seq[mid]) { if (mval = val) { result := mid} else if (val < mval) { high := mid - 1} else {low := mid + 1} } } } } Figure 5: The Binary Search Algorithm.","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"LoopInvariance","BinarySearch","data/LoopInvariance/txt/BinarySearch_comments_clean.txt","data/LoopInvariance/tla/BinarySearch_clean.tla","TRUE","3271","5434","60.2","OK","TRUE","1","http://lamport.azurewebsites.net/tla/proving-safety","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"LoopInvariance","Quicksort","data/LoopInvariance/txt/Quicksort_comments.txt","data/LoopInvariance/tla/Quicksort.tla","FALSE","14241","25809","55.18","OK","TRUE","1","http://lamport.azurewebsites.net/tla/proving-safety","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"LoopInvariance","Quicksort","data/LoopInvariance/txt/Quicksort_comments_clean.txt","data/LoopInvariance/tla/Quicksort_clean.tla","TRUE","12358","8314","148.64","OK","TRUE","1","http://lamport.azurewebsites.net/tla/proving-safety","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"LoopInvariance","README","data/LoopInvariance/txt/README.txt","","FALSE","758","0","0","RED","TRUE","1","http://lamport.azurewebsites.net/tla/proving-safety","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"LoopInvariance","README_clean","data/LoopInvariance/txt/README_clean.txt","","TRUE","752","0","0","RED","TRUE","1","http://lamport.azurewebsites.net/tla/proving-safety","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"LoopInvariance","SumSequence","data/LoopInvariance/txt/SumSequence_comments.txt","data/LoopInvariance/tla/SumSequence.tla","FALSE","10931","23820","45.89","OK","TRUE","1","http://lamport.azurewebsites.net/tla/proving-safety","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"LoopInvariance","SumSequence","data/LoopInvariance/txt/SumSequence_comments_clean.txt","data/LoopInvariance/tla/SumSequence_clean.tla","TRUE","9038","10070","89.75","OK","TRUE","1","http://lamport.azurewebsites.net/tla/proving-safety","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"Majority","MCMajority","data/Majority/txt/MCMajority_comments.txt","data/Majority/tla/MCMajority.tla","FALSE","316","664","47.59","OK","FALSE","0","","","","",""
"Majority","MCMajority","data/Majority/txt/MCMajority_comments_clean.txt","data/Majority/tla/MCMajority_clean.tla","TRUE","305","349","87.39","OK","FALSE","0","","","","",""
"Majority","MajorityProof","data/Majority/txt/MajorityProof_comments.txt","data/Majority/tla/MajorityProof.tla","FALSE","702","4366","16.08","YELLOW","FALSE","0","","","","",""
"Majority","MajorityProof","data/Majority/txt/MajorityProof_comments_clean.txt","data/Majority/tla/MajorityProof_clean.tla","TRUE","680","3455","19.68","YELLOW","FALSE","0","","","","",""
"Majority","Majority","data/Majority/txt/Majority_comments.txt","data/Majority/tla/Majority.tla","FALSE","1993","3332","59.81","OK","FALSE","0","","","","",""
"Majority","Majority","data/Majority/txt/Majority_comments_clean.txt","data/Majority/tla/Majority_clean.tla","TRUE","1914","1179","162.34","OK","FALSE","0","","","","",""
"MisraReachability","ParReachProofs","data/MisraReachability/txt/ParReachProofs_comments.txt","data/MisraReachability/tla/ParReachProofs.tla","FALSE","601","2497","24.07","OK","FALSE","0","","","","",""
"MisraReachability","ParReachProofs","data/MisraReachability/txt/ParReachProofs_comments_clean.txt","data/MisraReachability/tla/ParReachProofs_clean.tla","TRUE","575","1569","36.65","OK","FALSE","0","","","","",""
"MisraReachability","ParReach","data/MisraReachability/txt/ParReach_comments.txt","data/MisraReachability/tla/ParReach.tla","FALSE","9964","13085","76.15","OK","FALSE","0","","","","",""
"MisraReachability","ParReach","data/MisraReachability/txt/ParReach_comments_clean.txt","data/MisraReachability/tla/ParReach_clean.tla","TRUE","8847","2460","359.63","OK","FALSE","0","","","","",""
"MisraReachability","ReachabilityProofs","data/MisraReachability/txt/ReachabilityProofs_comments.txt","data/MisraReachability/tla/ReachabilityProofs.tla","FALSE","14088","19372","72.72","OK","FALSE","0","","","","",""
"MisraReachability","ReachabilityProofs","data/MisraReachability/txt/ReachabilityProofs_comments_clean.txt","data/MisraReachability/tla/ReachabilityProofs_clean.tla","TRUE","12702","3455","367.64","OK","FALSE","0","","","","",""
"MisraReachability","ReachabilityTest","data/MisraReachability/txt/ReachabilityTest_comments.txt","data/MisraReachability/tla/ReachabilityTest.tla","FALSE","7390","8401","87.97","OK","FALSE","0","","","","",""
"MisraReachability","ReachabilityTest","data/MisraReachability/txt/ReachabilityTest_comments_clean.txt","data/MisraReachability/tla/ReachabilityTest_clean.tla","TRUE","6686","793","843.13","OK","FALSE","0","","","","",""
"MisraReachability","Reachability","data/MisraReachability/txt/Reachability_comments.txt","data/MisraReachability/tla/Reachability.tla","FALSE","3642","4307","84.56","OK","FALSE","0","","","","",""
"MisraReachability","Reachability","data/MisraReachability/txt/Reachability_comments_clean.txt","data/MisraReachability/tla/Reachability_clean.tla","TRUE","3050","609","500.82","OK","FALSE","0","","","","",""
"MisraReachability","ReachableProofs","data/MisraReachability/txt/ReachableProofs_comments.txt","data/MisraReachability/tla/ReachableProofs.tla","FALSE","9538","12761","74.74","OK","FALSE","0","","","","",""
"MisraReachability","ReachableProofs","data/MisraReachability/txt/ReachableProofs_comments_clean.txt","data/MisraReachability/tla/ReachableProofs_clean.tla","TRUE","8308","2190","379.36","OK","FALSE","0","","","","",""
"MisraReachability","Reachable","data/MisraReachability/txt/Reachable_comments.txt","data/MisraReachability/tla/Reachable.tla","FALSE","12189","14102","86.43","OK","FALSE","0","","","","",""
"MisraReachability","Reachable","data/MisraReachability/txt/Reachable_comments_clean.txt","data/MisraReachability/tla/Reachable_clean.tla","TRUE","11142","1477","754.37","OK","FALSE","0","","","","",""
"MissionariesAndCannibals","MissionariesAndCannibals","data/MissionariesAndCannibals/txt/MissionariesAndCannibals_comments.txt","data/MissionariesAndCannibals/tla/MissionariesAndCannibals.tla","FALSE","14484","15962","90.74","OK","FALSE","0","","","","",""
"MissionariesAndCannibals","MissionariesAndCannibals","data/MissionariesAndCannibals/txt/MissionariesAndCannibals_comments_clean.txt","data/MissionariesAndCannibals/tla/MissionariesAndCannibals_clean.tla","TRUE","12272","1084","1132.1","OK","FALSE","0","","","","",""
"MultiCarElevator","Elevator","data/MultiCarElevator/txt/Elevator_comments.txt","data/MultiCarElevator/tla/Elevator.tla","FALSE","3558","11818","30.11","OK","FALSE","0","","","","",""
"MultiCarElevator","Elevator","data/MultiCarElevator/txt/Elevator_comments_clean.txt","data/MultiCarElevator/tla/Elevator_clean.tla","TRUE","3399","7258","46.83","OK","FALSE","0","","","","",""
"MultiPaxos-SMR","MultiPaxos_MC","data/MultiPaxos-SMR/txt/MultiPaxos_MC_comments.txt","data/MultiPaxos-SMR/tla/MultiPaxos_MC.tla","FALSE","279","2322","12.02","YELLOW","TRUE","4","https://github.com/nano-o/MultiPaxos; https://www.josehu.com/technical/2024/02/19/practical-MultiPaxos-TLA-spec.html; https://github.com/josehu07/summerset; https://github.com/josehu07/tla-examples/tree/master/specifications/Paxos","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"MultiPaxos-SMR","MultiPaxos_MC","data/MultiPaxos-SMR/txt/MultiPaxos_MC_comments_clean.txt","data/MultiPaxos-SMR/tla/MultiPaxos_MC_clean.tla","TRUE","257","1651","15.57","YELLOW","TRUE","4","https://github.com/nano-o/MultiPaxos; https://www.josehu.com/technical/2024/02/19/practical-MultiPaxos-TLA-spec.html; https://github.com/josehu07/summerset; https://github.com/josehu07/tla-examples/tree/master/specifications/Paxos","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"MultiPaxos-SMR","MultiPaxos","data/MultiPaxos-SMR/txt/MultiPaxos_comments.txt","data/MultiPaxos-SMR/tla/MultiPaxos.tla","FALSE","14708","27488","53.51","OK","TRUE","4","https://github.com/nano-o/MultiPaxos; https://www.josehu.com/technical/2024/02/19/practical-MultiPaxos-TLA-spec.html; https://github.com/josehu07/summerset; https://github.com/josehu07/tla-examples/tree/master/specifications/Paxos","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"MultiPaxos-SMR","MultiPaxos","data/MultiPaxos-SMR/txt/MultiPaxos_comments_clean.txt","data/MultiPaxos-SMR/tla/MultiPaxos_clean.tla","TRUE","12011","8318","144.4","OK","TRUE","4","https://github.com/nano-o/MultiPaxos; https://www.josehu.com/technical/2024/02/19/practical-MultiPaxos-TLA-spec.html; https://github.com/josehu07/summerset; https://github.com/josehu07/tla-examples/tree/master/specifications/Paxos","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"N-Queens","QueensPluscal","data/N-Queens/txt/QueensPluscal_comments.txt","data/N-Queens/tla/QueensPluscal.tla","FALSE","3183","5186","61.38","OK","FALSE","0","","","","",""
"N-Queens","QueensPluscal","data/N-Queens/txt/QueensPluscal_comments_clean.txt","data/N-Queens/tla/QueensPluscal_clean.tla","TRUE","2865","1516","188.98","OK","FALSE","0","","","","",""
"N-Queens","Queens","data/N-Queens/txt/Queens_comments.txt","data/N-Queens/tla/Queens.tla","FALSE","2661","4137","64.32","OK","FALSE","0","","","","",""
"N-Queens","Queens","data/N-Queens/txt/Queens_comments_clean.txt","data/N-Queens/tla/Queens_clean.tla","TRUE","2541","1270","200.08","OK","FALSE","0","","","","",""
"NanoBlockchain","MCNano","data/NanoBlockchain/txt/MCNano_comments.txt","data/NanoBlockchain/tla/MCNano.tla","FALSE","2482","4555","54.49","OK","FALSE","1","","","","",""
"NanoBlockchain","MCNano","data/NanoBlockchain/txt/MCNano_comments_clean.txt","data/NanoBlockchain/tla/MCNano_clean.tla","TRUE","2099","1916","109.55","OK","FALSE","1","","","","",""
"NanoBlockchain","Nano","data/NanoBlockchain/txt/Nano_comments.txt","data/NanoBlockchain/tla/Nano.tla","FALSE","4440","17860","24.86","OK","FALSE","0","","","","",""
"NanoBlockchain","Nano","data/NanoBlockchain/txt/Nano_comments_clean.txt","data/NanoBlockchain/tla/Nano_clean.tla","TRUE","4263","10670","39.95","OK","FALSE","0","","","","",""
"Paxos","Consensus","data/Paxos/txt/Consensus_comments.txt","data/Paxos/tla/Consensus.tla","FALSE","1626","2733","59.5","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","Consensus","data/Paxos/txt/Consensus_comments_clean.txt","data/Paxos/tla/Consensus_clean.tla","TRUE","1576","1046","150.67","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","MCConsensus","data/Paxos/txt/MCConsensus_comments.txt","data/Paxos/tla/MCConsensus.tla","FALSE","1014","1329","76.3","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","MCConsensus","data/Paxos/txt/MCConsensus_comments_clean.txt","data/Paxos/tla/MCConsensus_clean.tla","TRUE","603","294","205.1","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","MCPaxos","data/Paxos/txt/MCPaxos_comments.txt","data/Paxos/tla/MCPaxos.tla","FALSE","2561","3864","66.28","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","MCPaxos","data/Paxos/txt/MCPaxos_comments_clean.txt","data/Paxos/tla/MCPaxos_clean.tla","TRUE","2314","1191","194.29","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","MCVoting","data/Paxos/txt/MCVoting_comments.txt","data/Paxos/tla/MCVoting.tla","FALSE","2129","2855","74.57","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","MCVoting","data/Paxos/txt/MCVoting_comments_clean.txt","data/Paxos/tla/MCVoting_clean.tla","TRUE","1681","684","245.76","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","Paxos","data/Paxos/txt/Paxos_comments.txt","data/Paxos/tla/Paxos.tla","FALSE","8910","13219","67.4","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","Paxos","data/Paxos/txt/Paxos_comments_clean.txt","data/Paxos/tla/Paxos_clean.tla","TRUE","8453","3098","272.85","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","Voting","data/Paxos/txt/Voting_comments.txt","data/Paxos/tla/Voting.tla","FALSE","6446","10880","59.25","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Paxos","Voting","data/Paxos/txt/Voting_comments_clean.txt","data/Paxos/tla/Voting_clean.tla","TRUE","6147","3957","155.34","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","Consensus","data/PaxosHowToWinATuringAward/txt/Consensus_comments.txt","data/PaxosHowToWinATuringAward/tla/Consensus.tla","FALSE","6452","7379","87.44","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","Consensus","data/PaxosHowToWinATuringAward/txt/Consensus_comments_clean.txt","data/PaxosHowToWinATuringAward/tla/Consensus_clean.tla","TRUE","5778","858","673.43","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","MCConsensus","data/PaxosHowToWinATuringAward/txt/MCConsensus_comments.txt","data/PaxosHowToWinATuringAward/tla/MCConsensus.tla","FALSE","160","360","44.44","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","MCConsensus","data/PaxosHowToWinATuringAward/txt/MCConsensus_comments_clean.txt","data/PaxosHowToWinATuringAward/tla/MCConsensus_clean.tla","TRUE","147","199","73.87","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","MCPaxos","data/PaxosHowToWinATuringAward/txt/MCPaxos_comments.txt","data/PaxosHowToWinATuringAward/tla/MCPaxos.tla","FALSE","462","952","48.53","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","MCPaxos","data/PaxosHowToWinATuringAward/txt/MCPaxos_comments_clean.txt","data/PaxosHowToWinATuringAward/tla/MCPaxos_clean.tla","TRUE","431","489","88.14","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","MCVoting","data/PaxosHowToWinATuringAward/txt/MCVoting_comments.txt","data/PaxosHowToWinATuringAward/tla/MCVoting.tla","FALSE","410","821","49.94","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","MCVoting","data/PaxosHowToWinATuringAward/txt/MCVoting_comments_clean.txt","data/PaxosHowToWinATuringAward/tla/MCVoting_clean.tla","TRUE","382","409","93.4","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","Paxos","data/PaxosHowToWinATuringAward/txt/Paxos_comments.txt","data/PaxosHowToWinATuringAward/tla/Paxos.tla","FALSE","22114","26314","84.04","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","Paxos","data/PaxosHowToWinATuringAward/txt/Paxos_comments_clean.txt","data/PaxosHowToWinATuringAward/tla/Paxos_clean.tla","TRUE","19029","3214","592.07","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","README","data/PaxosHowToWinATuringAward/txt/README.txt","","FALSE","4384","0","0","RED","TRUE","2","References academic source: https://lamport.azurewebsites.net/tla/toolbox.html","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","README_clean","data/PaxosHowToWinATuringAward/txt/README_clean.txt","","TRUE","4338","0","0","RED","TRUE","2","References academic source: https://lamport.azurewebsites.net/tla/toolbox.html","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","Voting","data/PaxosHowToWinATuringAward/txt/Voting_comments.txt","data/PaxosHowToWinATuringAward/tla/Voting.tla","FALSE","16519","19880","83.09","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"PaxosHowToWinATuringAward","Voting","data/PaxosHowToWinATuringAward/txt/Voting_comments_clean.txt","data/PaxosHowToWinATuringAward/tla/Voting_clean.tla","TRUE","15040","2996","502","OK","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"Prisoners","MCPrisoners","data/Prisoners/txt/MCPrisoners_comments.txt","data/Prisoners/tla/MCPrisoners.tla","FALSE","1542","1834","84.08","OK","FALSE","0","","","","",""
"Prisoners","MCPrisoners","data/Prisoners/txt/MCPrisoners_comments_clean.txt","data/Prisoners/tla/MCPrisoners_clean.tla","TRUE","1268","276","459.42","OK","FALSE","0","","","","",""
"Prisoners","Prisoners","data/Prisoners/txt/Prisoners_comments.txt","data/Prisoners/tla/Prisoners.tla","FALSE","9334","11973","77.96","OK","FALSE","0","","","","",""
"Prisoners","Prisoners","data/Prisoners/txt/Prisoners_comments_clean.txt","data/Prisoners/tla/Prisoners_clean.tla","TRUE","8603","2117","406.38","OK","FALSE","0","","","","",""
"ReadersWriters","MC","data/ReadersWriters/txt/MC_comments.txt","data/ReadersWriters/tla/MC.tla","FALSE","209","287","72.82","OK","FALSE","0","","","","",""
"ReadersWriters","MC","data/ReadersWriters/txt/MC_comments_clean.txt","data/ReadersWriters/tla/MC_clean.tla","TRUE","193","78","247.44","OK","FALSE","0","","","","",""
"ReadersWriters","ReadersWriters","data/ReadersWriters/txt/ReadersWriters_comments.txt","data/ReadersWriters/tla/ReadersWriters.tla","FALSE","723","3413","21.18","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"ReadersWriters","ReadersWriters","data/ReadersWriters/txt/ReadersWriters_comments_clean.txt","data/ReadersWriters/tla/ReadersWriters_clean.tla","TRUE","672","2470","27.21","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"SimplifiedFastPaxos","FastPaxos","data/SimplifiedFastPaxos/txt/FastPaxos_comments.txt","data/SimplifiedFastPaxos/tla/FastPaxos.tla","FALSE","2449","6272","39.05","OK","TRUE","4","https://www.researchgate.net/publication/271910927_Fast_Paxos_Made_Easy_Theory_and_Implementation; https://github.com/sudogandhi; https://github.com/TypeDefinition; https://www.microsoft.com/en-us/research/publication/fast-paxos/","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"SimplifiedFastPaxos","FastPaxos","data/SimplifiedFastPaxos/txt/FastPaxos_comments_clean.txt","data/SimplifiedFastPaxos/tla/FastPaxos_clean.tla","TRUE","2251","3146","71.55","OK","TRUE","4","https://www.researchgate.net/publication/271910927_Fast_Paxos_Made_Easy_Theory_and_Implementation; https://github.com/sudogandhi; https://github.com/TypeDefinition; https://www.microsoft.com/en-us/research/publication/fast-paxos/","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"SimplifiedFastPaxos","Paxos","data/SimplifiedFastPaxos/txt/Paxos_comments.txt","data/SimplifiedFastPaxos/tla/Paxos.tla","FALSE","5481","10260","53.42","OK","TRUE","4","https://www.researchgate.net/publication/271910927_Fast_Paxos_Made_Easy_Theory_and_Implementation; https://github.com/sudogandhi; https://github.com/TypeDefinition; https://www.microsoft.com/en-us/research/publication/fast-paxos/","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"SimplifiedFastPaxos","Paxos","data/SimplifiedFastPaxos/txt/Paxos_comments_clean.txt","data/SimplifiedFastPaxos/tla/Paxos_clean.tla","TRUE","5136","3899","131.73","OK","TRUE","4","https://www.researchgate.net/publication/271910927_Fast_Paxos_Made_Easy_Theory_and_Implementation; https://github.com/sudogandhi; https://github.com/TypeDefinition; https://www.microsoft.com/en-us/research/publication/fast-paxos/","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"SingleLaneBridge","MC","data/SingleLaneBridge/txt/MC_comments.txt","data/SingleLaneBridge/tla/MC.tla","FALSE","317","638","49.69","OK","FALSE","0","","","","",""
"SingleLaneBridge","MC","data/SingleLaneBridge/txt/MC_clean_comments.txt","data/SingleLaneBridge/tla/MC_clean.tla","TRUE","298","317","94.01","OK","FALSE","0","","","","",""
"SingleLaneBridge","SingleLaneBridge","data/SingleLaneBridge/txt/SingleLaneBridge_comments.txt","data/SingleLaneBridge/tla/SingleLaneBridge.tla","FALSE","720","4695","15.34","YELLOW","FALSE","1","","","","",""
"SingleLaneBridge","SingleLaneBridge","data/SingleLaneBridge/txt/SingleLaneBridge_comments_clean.txt","data/SingleLaneBridge/tla/SingleLaneBridge_clean.tla","TRUE","680","3723","18.26","YELLOW","FALSE","1","","","","",""
"SlidingPuzzles","SlidingPuzzles","data/SlidingPuzzles/txt/SlidingPuzzles_comments.txt","data/SlidingPuzzles/tla/SlidingPuzzles.tla","FALSE","1014","2688","37.72","OK","TRUE","4","https://en.wikipedia.org/wiki/Sliding_puzzle; https://en.wikipedia.org/wiki/Klotski; https://github.com/mryndzionek/tlaplus_specs#slidingpuzzlestla; https://youtu.be/_GP9OpZPUYc?t=742","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: KeithArticle2011.pdf
================================================================================

VINTAGE PLASTIC SLIDING-LETTER PUZZLES
Mike Keith
Furlong, PA
One artifact from my childhood in the 1960’s that I still remember vividly is the series of plastic sliding-
block puzzles manufactured by The Roalex Company of Forest Hills, NY (no relation to the maker of fine
timepieces). These consisted of a high-quality plastic puzzle glued to a piece of cardboard containing
information about the puzzle. Most of their sixty or so
different designs were based on cartoons or TV shows of
the time, such as The Flintstones or The Honeymooners,
and typically consist of a single drawing spread over all
the tiles, or illustrations of four characters from the
show, one in each column. Usually the picture on each
tile is different, which means that, just like the Fifteen
Puzzle, only half of the possible permutations of the tiles
can actually be reached by sliding the tiles.
As a budding

---PDF SEPARATOR---

Source: fifteen-supp.pdf
================================================================================

The Fifteen Puzzle
A Motivating Example for
the Alternating Group
(Supplemental Material for
Intro to Modern Algebra)
Robert A. Beeler∗
August 7, 2015
1 Introduction
In the infamous “Fifteen Puzzle,” numbered tiles are slid either horizontally
or vertically into an empty slot. Folklore tells us that in 1886, puzzle master
Sam Loyd offered a one-thousand dollar prize if anyone could swap tiles 14
and 15 and return the other tiles to their original slots. However, Slocum’s
book [6] argues that the puzzle is much older. Regardless of the origins of the
puzzle, we wish to know if this is possible. Fortunately, the tools of modern
algebra will help us to unravel this puzzle. Our treatment of the puzzle will
follow many of the articles written on this puzzle such as [1, 4, 5, 7].
1 2 3 4 1 2 3 4
5 6 7 8 ? 5 6 7 8
9 10 11 12 → 9 10 11 12
13 14 15 13 15 14
∗Department of Mathematics andSt

---PDF SEPARATOR---

Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|KeithArticle2011.pdf|fifteen-supp.pdf|biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"SlidingPuzzles","SlidingPuzzles","data/SlidingPuzzles/txt/SlidingPuzzles_comments_clean.txt","data/SlidingPuzzles/tla/SlidingPuzzles_clean.tla","TRUE","980","1308","74.92","OK","TRUE","4","https://en.wikipedia.org/wiki/Sliding_puzzle; https://en.wikipedia.org/wiki/Klotski; https://github.com/mryndzionek/tlaplus_specs#slidingpuzzlestla; https://youtu.be/_GP9OpZPUYc?t=742","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: KeithArticle2011.pdf
================================================================================

VINTAGE PLASTIC SLIDING-LETTER PUZZLES
Mike Keith
Furlong, PA
One artifact from my childhood in the 1960’s that I still remember vividly is the series of plastic sliding-
block puzzles manufactured by The Roalex Company of Forest Hills, NY (no relation to the maker of fine
timepieces). These consisted of a high-quality plastic puzzle glued to a piece of cardboard containing
information about the puzzle. Most of their sixty or so
different designs were based on cartoons or TV shows of
the time, such as The Flintstones or The Honeymooners,
and typically consist of a single drawing spread over all
the tiles, or illustrations of four characters from the
show, one in each column. Usually the picture on each
tile is different, which means that, just like the Fifteen
Puzzle, only half of the possible permutations of the tiles
can actually be reached by sliding the tiles.
As a budding

---PDF SEPARATOR---

Source: fifteen-supp.pdf
================================================================================

The Fifteen Puzzle
A Motivating Example for
the Alternating Group
(Supplemental Material for
Intro to Modern Algebra)
Robert A. Beeler∗
August 7, 2015
1 Introduction
In the infamous “Fifteen Puzzle,” numbered tiles are slid either horizontally
or vertically into an empty slot. Folklore tells us that in 1886, puzzle master
Sam Loyd offered a one-thousand dollar prize if anyone could swap tiles 14
and 15 and return the other tiles to their original slots. However, Slocum’s
book [6] argues that the puzzle is much older. Regardless of the origins of the
puzzle, we wish to know if this is possible. Fortunately, the tools of modern
algebra will help us to unravel this puzzle. Our treatment of the puzzle will
follow many of the articles written on this puzzle such as [1, 4, 5, 7].
1 2 3 4 1 2 3 4
5 6 7 8 ? 5 6 7 8
9 10 11 12 → 9 10 11 12
13 14 15 13 15 14
∗Department of Mathematics andSt

---PDF SEPARATOR---

Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|KeithArticle2011.pdf|fifteen-supp.pdf|biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"SlushProtocol","Slush","data/SlushProtocol/txt/Slush_comments.txt","data/SlushProtocol/tla/Slush.tla","FALSE","5127","15825","32.4","OK","TRUE","1","github.com/ahelwer/avalanche-analysis/","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"SlushProtocol","Slush","data/SlushProtocol/txt/Slush_comments_clean.txt","data/SlushProtocol/tla/Slush_clean.tla","TRUE","4322","7157","60.39","OK","TRUE","1","github.com/ahelwer/avalanche-analysis/","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"SpanningTree","README","data/SpanningTree/txt/README.txt","","FALSE","1457","0","0","RED","TRUE","1","http://lamport.azurewebsites.net/pubs/pubs.html#di...","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"SpanningTree","README_clean","data/SpanningTree/txt/README_clean.txt","","TRUE","1440","0","0","RED","TRUE","1","http://lamport.azurewebsites.net/pubs/pubs.html#di...","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"SpanningTree","SpanTreeRandom","data/SpanningTree/txt/SpanTreeRandom_comments.txt","data/SpanningTree/tla/SpanTreeRandom.tla","FALSE","3122","4752","65.7","OK","TRUE","1","https://github.com/banhday/tlabenchmarks/tree/master/benchmarks/spanning","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"SpanningTree","SpanTreeRandom","data/SpanningTree/txt/SpanTreeRandom_comments_clean.txt","data/SpanningTree/tla/SpanTreeRandom_clean.tla","TRUE","2538","1384","183.38","OK","TRUE","1","https://github.com/banhday/tlabenchmarks/tree/master/benchmarks/spanning","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"SpanningTree","SpanTreeTest","data/SpanningTree/txt/SpanTreeTest_comments.txt","data/SpanningTree/tla/SpanTreeTest.tla","FALSE","1793","3483","51.48","OK","TRUE","1","https://github.com/banhday/tlabenchmarks/tree/master/benchmarks/spanning","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"SpanningTree","SpanTreeTest","data/SpanningTree/txt/SpanTreeTest_comments_clean.txt","data/SpanningTree/tla/SpanTreeTest_clean.tla","TRUE","1723","1416","121.68","OK","TRUE","1","https://github.com/banhday/tlabenchmarks/tree/master/benchmarks/spanning","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"SpanningTree","SpanTree","data/SpanningTree/txt/SpanTree_comments.txt","data/SpanningTree/tla/SpanTree.tla","FALSE","9317","10904","85.45","OK","TRUE","1","https://github.com/banhday/tlabenchmarks/tree/master/benchmarks/spanning","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"SpanningTree","SpanTree","data/SpanningTree/txt/SpanTree_comments_clean.txt","data/SpanningTree/tla/SpanTree_clean.tla","TRUE","8397","1379","608.92","OK","TRUE","1","https://github.com/banhday/tlabenchmarks/tree/master/benchmarks/spanning","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"Stones","Stones","data/Stones/txt/Stones_comments.txt","data/Stones/tla/Stones.tla","FALSE","5670","6649","85.28","OK","FALSE","0","","","","",""
"Stones","Stones","data/Stones/txt/Stones_comments_clean.txt","data/Stones/tla/Stones_clean.tla","TRUE","4795","836","573.56","OK","FALSE","0","","","","",""
"TLC","TLCMC","data/TLC/txt/TLCMC_comments.txt","data/TLC/tla/TLCMC.tla","FALSE","6360","12556","50.65","OK","FALSE","0","","","","",""
"TLC","TLCMC","data/TLC/txt/TLCMC_comments_clean.txt","data/TLC/tla/TLCMC_clean.tla","TRUE","5453","4368","124.84","OK","FALSE","0","","","","",""
"TLC","TestGraphs","data/TLC/txt/TestGraphs_comments.txt","data/TLC/tla/TestGraphs.tla","FALSE","674","3127","21.55","OK","FALSE","0","","","","",""
"TLC","TestGraphs","data/TLC/txt/TestGraphs_comments_clean.txt","data/TLC/tla/TestGraphs_clean.tla","TRUE","612","2198","27.84","OK","FALSE","0","","","","",""
"TeachingConcurrency","README","data/TeachingConcurrency/txt/README.txt","","FALSE","1350","0","0","RED","TRUE","2","http://lamport.azurewebsites.net/pubs/teaching-con","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"TeachingConcurrency","README_clean","data/TeachingConcurrency/txt/README_clean.txt","","TRUE","1338","0","0","RED","TRUE","2","http://lamport.azurewebsites.net/pubs/teaching-con","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"TeachingConcurrency","SimpleRegular","data/TeachingConcurrency/txt/SimpleRegular_comments.txt","data/TeachingConcurrency/tla/SimpleRegular.tla","FALSE","6208","8974","69.18","OK","TRUE","2","http://lamport.azurewebsites.net/pubs/interprocess","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"TeachingConcurrency","SimpleRegular","data/TeachingConcurrency/txt/SimpleRegular_comments_clean.txt","data/TeachingConcurrency/tla/SimpleRegular_clean.tla","TRUE","5203","2291","227.11","OK","TRUE","2","http://lamport.azurewebsites.net/pubs/interprocess","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"TeachingConcurrency","Simple","data/TeachingConcurrency/txt/Simple_comments.txt","data/TeachingConcurrency/tla/Simple.tla","FALSE","5782","8012","72.17","OK","TRUE","2","http://lamport.azurewebsites.net/pubs/teaching-con","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"TeachingConcurrency","Simple","data/TeachingConcurrency/txt/Simple_comments_clean.txt","data/TeachingConcurrency/tla/Simple_clean.tla","TRUE","4741","1884","251.65","OK","TRUE","2","http://lamport.azurewebsites.net/pubs/teaching-con","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"TransitiveClosure","TransitiveClosure","data/TransitiveClosure/txt/TransitiveClosure_comments.txt","data/TransitiveClosure/tla/TransitiveClosure.tla","FALSE","8270","10744","76.97","OK","FALSE","0","","","","",""
"TransitiveClosure","TransitiveClosure","data/TransitiveClosure/txt/TransitiveClosure_comments_clean.txt","data/TransitiveClosure/tla/TransitiveClosure_clean.tla","TRUE","7318","1733","422.27","OK","FALSE","0","","","","",""
"TwoPhase","Alternate","data/TwoPhase/txt/Alternate_comments.txt","data/TwoPhase/tla/Alternate.tla","FALSE","1761","2085","84.46","OK","FALSE","0","","","","",""
"TwoPhase","Alternate","data/TwoPhase/txt/Alternate_comments_clean.txt","data/TwoPhase/tla/Alternate_clean.tla","TRUE","1476","325","454.15","OK","FALSE","0","","","","",""
"TwoPhase","TLAPS","data/TwoPhase/txt/TLAPS_comments.txt","data/TwoPhase/tla/TLAPS.tla","FALSE","17307","21451","80.68","OK","FALSE","0","","","","",""
"TwoPhase","TLAPS","data/TwoPhase/txt/TLAPS_comments_clean.txt","data/TwoPhase/tla/TLAPS_clean.tla","TRUE","15079","3287","458.75","OK","FALSE","0","","","","",""
"TwoPhase","TwoPhase","data/TwoPhase/txt/TwoPhase_comments.txt","data/TwoPhase/tla/TwoPhase.tla","FALSE","3477","4736","73.42","OK","FALSE","0","","","","",""
"TwoPhase","TwoPhase","data/TwoPhase/txt/TwoPhase_comments_clean.txt","data/TwoPhase/tla/TwoPhase_clean.tla","TRUE","3118","1101","283.2","OK","FALSE","0","","","","",""
"YoYo","MCYoYoNoPruning","data/YoYo/txt/MCYoYoNoPruning_comments.txt","data/YoYo/tla/MCYoYoNoPruning.tla","FALSE","192","500","38.4","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"YoYo","MCYoYoNoPruning","data/YoYo/txt/MCYoYoNoPruning_comments_clean.txt","data/YoYo/tla/MCYoYoNoPruning_clean.tla","TRUE","163","308","52.92","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"YoYo","MCYoYoPruning","data/YoYo/txt/MCYoYoPruning_comments.txt","data/YoYo/tla/MCYoYoPruning.tla","FALSE","192","506","37.94","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"YoYo","MCYoYoPruning","data/YoYo/txt/MCYoYoPruning_comments_clean.txt","data/YoYo/tla/MCYoYoPruning_clean.tla","TRUE","163","314","51.91","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"YoYo","YoYoAllGraphs","data/YoYo/txt/YoYoAllGraphs_comments.txt","data/YoYo/tla/YoYoAllGraphs.tla","FALSE","5167","12633","40.9","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"YoYo","YoYoAllGraphs","data/YoYo/txt/YoYoAllGraphs_comments_clean.txt","data/YoYo/tla/YoYoAllGraphs_clean.tla","TRUE","4828","5879","82.12","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"YoYo","YoYoNoPruning","data/YoYo/txt/YoYoNoPruning_comments.txt","data/YoYo/tla/YoYoNoPruning.tla","FALSE","7629","13747","55.5","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"YoYo","YoYoNoPruning","data/YoYo/txt/YoYoNoPruning_comments_clean.txt","data/YoYo/tla/YoYoNoPruning_clean.tla","TRUE","6911","5082","135.99","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"YoYo","YoYoPruning","data/YoYo/txt/YoYoPruning_comments.txt","data/YoYo/tla/YoYoPruning.tla","FALSE","6731","14370","46.84","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"YoYo","YoYoPruning","data/YoYo/txt/YoYoPruning_comments_clean.txt","data/YoYo/tla/YoYoPruning_clean.tla","TRUE","6168","6060","101.78","OK","TRUE","1","https://research.nicola-santoro.com/DADA.html","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 ","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf"
"aba-asyn-byz","aba_asyn_byz","data/aba-asyn-byz/txt/aba_asyn_byz_comments.txt","data/aba-asyn-byz/tla/aba_asyn_byz.tla","FALSE","2056","5858","35.1","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=214134","","","",""
"aba-asyn-byz","aba_asyn_byz","data/aba-asyn-byz/txt/aba_asyn_byz_comments_clean.txt","data/aba-asyn-byz/tla/aba_asyn_byz_clean.tla","TRUE","1934","2947","65.63","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=214134","","","",""
"acp","ACP_NB_TLC","data/acp/txt/ACP_NB_TLC_comments.txt","data/acp/tla/ACP_NB_TLC.tla","FALSE","107","727","14.72","YELLOW","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"acp","ACP_NB_TLC","data/acp/txt/ACP_NB_TLC_comments_clean.txt","data/acp/tla/ACP_NB_TLC_clean.tla","TRUE","97","536","18.1","YELLOW","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"acp","ACP_NB_WRONG_TLC","data/acp/txt/ACP_NB_WRONG_TLC_comments.txt","data/acp/tla/ACP_NB_WRONG_TLC.tla","FALSE","1472","4944","29.77","OK","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"acp","ACP_NB_WRONG_TLC","data/acp/txt/ACP_NB_WRONG_TLC_comments_clean.txt","data/acp/tla/ACP_NB_WRONG_TLC_clean.tla","TRUE","1361","2447","55.62","OK","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"acp","ACP_NB","data/acp/txt/ACP_NB_comments.txt","data/acp/tla/ACP_NB.tla","FALSE","2276","7253","31.38","OK","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"acp","ACP_NB","data/acp/txt/ACP_NB_comments_clean.txt","data/acp/tla/ACP_NB_clean.tla","TRUE","2085","3503","59.52","OK","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"acp","ACP_SB_TLC","data/acp/txt/ACP_SB_TLC_comments.txt","data/acp/tla/ACP_SB_TLC.tla","FALSE","107","727","14.72","YELLOW","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"acp","ACP_SB_TLC","data/acp/txt/ACP_SB_TLC_comments_clean.txt","data/acp/tla/ACP_SB_TLC_clean.tla","TRUE","97","536","18.1","YELLOW","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"acp","ACP_SB","data/acp/txt/ACP_SB_comments.txt","data/acp/tla/ACP_SB.tla","FALSE","4910","14652","33.51","OK","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"acp","ACP_SB","data/acp/txt/ACP_SB_comments_clean.txt","data/acp/tla/ACP_SB_clean.tla","TRUE","4052","7237","55.99","OK","TRUE","2","https://members.loria.fr/SMerz/talks/argentina2005/Charpentier/charpov/Teaching/CS-986/TLC/; https://dl.acm.org/citation.cfm?id=302436","","","Source: ACP_SB.pdf
================================================================================

module ACP SB
Time-stamp: <10Jun 2002at12:39:50bycharpovonberlioz.cs.unh.edu >
AtomicCommittmentProtocolwithSimpleBroadcastprimitive(ACP-SB)
From:
SapeMullender,editor. DistributedSystems.
Chapter6: Non-BlockingAtomicCommitment,byO¨.Babao˘gluandS.Toueg.
1993.
Synchronouscommunicationhasbeenreplacedwith(implicit)asynchronouscommunication. Failuresaredetected“magically”insteadorrelyingon
timeouts.
This version of the protocol uses a “simple broadcast” where a broadcast is simply a series of messages sent, possibly interrupted by a failure.
Consequently,thisalgorithmis“nonterminating”andpropertyAC5doesnothold.
constants
participants, setofparticipants
yes, no, vote
undecided, commit, abort, decision
waiting, coordinatorstatewrtaparticipant
notsent broadcaststatewrtaparticipant
variables
participant, participants(N)
coordinator coordinator(1)
TypeInvParticipant =∆ participant ∈ [
participan

---PDF SEPARATOR---

Source: ACP_NB.pdf
================================================================================

module ACP NB
Time-stamp: <10Jun 2002at14:06:57bycharpovonberlioz.cs.unh.edu >
NonblockingAtomicCommittment Protocol(ACP-NB)
ThenonblockingpropertyAC5isobtainedbyusingareliablebroadcast
implementedasfollows:
-uponreceptionofabroadcastmessage,thismessageisforwardedtoall
participantsbeforeit’sdeliveredtothelocalsite;
-sinceparticipanti doesnotforwardtoitself,forward[i]isusedto
storethedecisionbeforeit’sdelivered(andbecomes“decision”)
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participa

---PDF SEPARATOR---

Source: ACP_NB_WRONG_TLC.pdf
================================================================================

module ACP NB WRONG TLC
ErroneousNonblockingAtomicCommittment Protocol(ACP-NB)
Themistakeistodeliverabroacastmessagelocally*before*ithasbeen
forwardedtootherparticipants.
ThisprotocoldoesnotsatisfytheconsistencypropertyAC1
extends ACP SB
Participantstypeisextendedwitha“forward”variable.
Coordinatortypeisunchanged.
TypeInvParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :boolean ,
decision :{undecided, commit, abort},
faulty :boolean ,
voteSent :boolean ,
forward :[participants →{notsent, commit, abort}]
]
]
TypeInvNB =∆ TypeInvParticipantNB ∧TypeInvCoordinator
Initially,participantshavenotforwardedanythingyet
InitParticipantNB =∆ participant ∈ [
participants →[
vote :{yes, no},
alive :{true},
decision :{undecided},
faulty :{false},
voteSent :{false},
forward :[participants →{notsent}]
]
]
InitNB =∆ InitParticipantNB ∧InitCoordinator
Participantstatements","ACP_SB.pdf|ACP_NB.pdf|ACP_NB_WRONG_TLC.pdf"
"bcastByz","bcastByz","data/bcastByz/txt/bcastByz_comments.txt","data/bcastByz/tla/bcastByz.tla","FALSE","10663","48258","22.1","OK","TRUE","1","https://link.springer.com/article/10.1007/BF01667080","","","","978-3-540-87779-0.pdf|978-3-540-87779-0_30.pdf"
"bcastByz","bcastByz","data/bcastByz/txt/bcastByz_comments_clean.txt","data/bcastByz/tla/bcastByz_clean.tla","TRUE","9630","27332","35.23","OK","TRUE","1","https://link.springer.com/article/10.1007/BF01667080","","","","978-3-540-87779-0.pdf|978-3-540-87779-0_30.pdf"
"bcastFolklore","bcastFolklore","data/bcastFolklore/txt/bcastFolklore_comments.txt","data/bcastFolklore/tla/bcastFolklore.tla","FALSE","3236","6903","46.88","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"bcastFolklore","bcastFolklore","data/bcastFolklore/txt/bcastFolklore_comments_clean.txt","data/bcastFolklore/tla/bcastFolklore_clean.tla","TRUE","2824","2448","115.36","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"bosco","bosco","data/bosco/txt/bosco_comments.txt","data/bosco/tla/bosco.tla","FALSE","4400","8832","49.82","OK","TRUE","1","https://link.springer.com/chapter/10.1007/978-3-540-87779-0_30","","","","978-3-540-87779-0.pdf|978-3-540-87779-0_30.pdf"
"bosco","bosco","data/bosco/txt/bosco_comments_clean.txt","data/bosco/tla/bosco_clean.tla","TRUE","3769","3780","99.71","OK","TRUE","1","https://link.springer.com/chapter/10.1007/978-3-540-87779-0_30","","","","978-3-540-87779-0.pdf|978-3-540-87779-0_30.pdf"
"braf","BufferedRandomAccessFile","data/braf/txt/BufferedRandomAccessFile_comments.txt","data/braf/tla/BufferedRandomAccessFile.tla","FALSE","5805","16653","34.86","OK","TRUE","2","https://github.com/tlaplus/tlaplus/tree/4613109641676389d97b8df209d6cf4d90d31c1c/tlatools/org.lamport.tlatools/src/tlc2/util/BufferedRandomAccessFile.tla; https://github.com/tlaplus/tlaplus/blob/4613109641676389d97b8df209d6cf4d90d31c1c/tlatools/org.lamport.tlatools/src/tlc2/util/BufferedRandomAccessFile.java","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"braf","BufferedRandomAccessFile","data/braf/txt/BufferedRandomAccessFile_comments_clean.txt","data/braf/tla/BufferedRandomAccessFile_clean.tla","TRUE","5443","9644","56.44","OK","TRUE","2","https://github.com/tlaplus/tlaplus/tree/4613109641676389d97b8df209d6cf4d90d31c1c/tlatools/org.lamport.tlatools/src/tlc2/util/BufferedRandomAccessFile.tla; https://github.com/tlaplus/tlaplus/blob/4613109641676389d97b8df209d6cf4d90d31c1c/tlatools/org.lamport.tlatools/src/tlc2/util/BufferedRandomAccessFile.java","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"byihive","VoucherCancel","data/byihive/txt/VoucherCancel_comments.txt","data/byihive/tla/VoucherCancel.tla","FALSE","9633","15155","63.56","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byihive","VoucherCancel","data/byihive/txt/VoucherCancel_comments_clean.txt","data/byihive/tla/VoucherCancel_clean.tla","TRUE","9097","4884","186.26","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byihive","VoucherIssue","data/byihive/txt/VoucherIssue_comments.txt","data/byihive/tla/VoucherIssue.tla","FALSE","9710","15190","63.92","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byihive","VoucherIssue","data/byihive/txt/VoucherIssue_comments_clean.txt","data/byihive/tla/VoucherIssue_clean.tla","TRUE","9171","4842","189.41","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byihive","VoucherLifeCycle","data/byihive/txt/VoucherLifeCycle_comments.txt","data/byihive/tla/VoucherLifeCycle.tla","FALSE","3842","5739","66.95","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byihive","VoucherLifeCycle","data/byihive/txt/VoucherLifeCycle_comments_clean.txt","data/byihive/tla/VoucherLifeCycle_clean.tla","TRUE","3587","1650","217.39","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byihive","VoucherRedeem","data/byihive/txt/VoucherRedeem_comments.txt","data/byihive/tla/VoucherRedeem.tla","FALSE","9483","14995","63.24","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byihive","VoucherRedeem","data/byihive/txt/VoucherRedeem_comments_clean.txt","data/byihive/tla/VoucherRedeem_clean.tla","TRUE","9025","4874","185.17","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byihive","VoucherTransfer","data/byihive/txt/VoucherTransfer_comments.txt","data/byihive/tla/VoucherTransfer.tla","FALSE","10321","15885","64.97","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byihive","VoucherTransfer","data/byihive/txt/VoucherTransfer_comments_clean.txt","data/byihive/tla/VoucherTransfer_clean.tla","TRUE","9761","4919","198.43","OK","TRUE","1","https://github.com/byisystems/byihive.","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"byzpaxos","Consensus","data/byzpaxos/txt/Consensus_comments.txt","data/byzpaxos/tla/Consensus.tla","FALSE","10936","13038","83.88","OK","TRUE","1","http://lamport.azurewebsites.net/tla/byzpaxos.html","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"byzpaxos","Consensus","data/byzpaxos/txt/Consensus_comments_clean.txt","data/byzpaxos/tla/Consensus_clean.tla","TRUE","10018","1971","508.27","OK","TRUE","1","http://lamport.azurewebsites.net/tla/byzpaxos.html","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"c1cs","c1cs","data/c1cs/txt/c1cs_comments.txt","data/c1cs/tla/c1cs.tla","FALSE","3341","9467","35.29","OK","TRUE","1","https://link.springer.com/chapter/10.1007/3-540-44743-1_4","","","","978-3-540-87779-0.pdf|978-3-540-87779-0_30.pdf"
"c1cs","c1cs","data/c1cs/txt/c1cs_comments_clean.txt","data/c1cs/tla/c1cs_clean.tla","TRUE","3009","4831","62.29","OK","TRUE","1","https://link.springer.com/chapter/10.1007/3-540-44743-1_4","","","","978-3-540-87779-0.pdf|978-3-540-87779-0_30.pdf"
"cbc_max","cbc_max","data/cbc_max/txt/cbc_max_comments.txt","data/cbc_max/tla/cbc_max.tla","FALSE","2062","7002","29.45","OK","TRUE","1","https://ieeexplore.ieee.org/document/1209964/","","","",""
"cbc_max","cbc_max","data/cbc_max/txt/cbc_max_comments_clean.txt","data/cbc_max/tla/cbc_max_clean.tla","TRUE","1921","3955","48.57","OK","TRUE","1","https://ieeexplore.ieee.org/document/1209964/","","","",""
"cf1s-folklore","cf1s_folklore","data/cf1s-folklore/txt/cf1s_folklore_comments.txt","data/cf1s-folklore/tla/cf1s_folklore.tla","FALSE","1522","5267","28.9","OK","TRUE","1","https://ieeexplore.ieee.org/abstract/document/1633503/","","","",""
"cf1s-folklore","cf1s_folklore","data/cf1s-folklore/txt/cf1s_folklore_comments_clean.txt","data/cf1s-folklore/tla/cf1s_folklore_clean.tla","TRUE","1366","3162","43.2","OK","TRUE","1","https://ieeexplore.ieee.org/abstract/document/1633503/","","","",""
"detector_chan96","Age_Channel","data/detector_chan96/txt/Age_Channel_comments.txt","data/detector_chan96/tla/Age_Channel.tla","FALSE","1492","2507","59.51","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"detector_chan96","Age_Channel","data/detector_chan96/txt/Age_Channel_comments_clean.txt","data/detector_chan96/tla/Age_Channel_clean.tla","TRUE","1350","864","156.25","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"detector_chan96","EPFailureDetector","data/detector_chan96/txt/EPFailureDetector_comments.txt","data/detector_chan96/tla/EPFailureDetector.tla","FALSE","4408","9212","47.85","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"detector_chan96","EPFailureDetector","data/detector_chan96/txt/EPFailureDetector_comments_clean.txt","data/detector_chan96/tla/EPFailureDetector_clean.tla","TRUE","3870","2905","133.22","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"detector_chan96","EnvironmentController","data/detector_chan96/txt/EnvironmentController_comments.txt","data/detector_chan96/tla/EnvironmentController.tla","FALSE","12246","17861","68.56","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"detector_chan96","EnvironmentController","data/detector_chan96/txt/EnvironmentController_comments_clean.txt","data/detector_chan96/tla/EnvironmentController_clean.tla","TRUE","10751","3701","290.49","OK","TRUE","1","https://dl.acm.org/citation.cfm?id=226647","","","",""
"diskpaxos","DiskSynod","data/diskpaxos/txt/DiskSynod_comments.txt","data/diskpaxos/tla/DiskSynod.tla","FALSE","128","4801","2.67","RED","TRUE","2","https://lamport.azurewebsites.net/pubs/disk-paxos.pdf; https://github.com/nano-o/MultiPaxos/blob/master/DiskPaxos.tla","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","DiskSynod","data/diskpaxos/txt/DiskSynod_comments_clean.txt","data/diskpaxos/tla/DiskSynod_clean.tla","TRUE","118","3834","3.08","RED","TRUE","2","https://lamport.azurewebsites.net/pubs/disk-paxos.pdf; https://github.com/nano-o/MultiPaxos/blob/master/DiskPaxos.tla","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","HDiskSynod","data/diskpaxos/txt/HDiskSynod_comments.txt","data/diskpaxos/tla/HDiskSynod.tla","FALSE","172","5169","3.33","RED","TRUE","2","https://lamport.azurewebsites.net/pubs/disk-paxos.pdf; https://github.com/nano-o/MultiPaxos/blob/master/DiskPaxos.tla","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","HDiskSynod","data/diskpaxos/txt/HDiskSynod_comments_clean.txt","data/diskpaxos/tla/HDiskSynod_clean.tla","TRUE","160","3698","4.33","RED","TRUE","2","https://lamport.azurewebsites.net/pubs/disk-paxos.pdf; https://github.com/nano-o/MultiPaxos/blob/master/DiskPaxos.tla","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","Synod","data/diskpaxos/txt/Synod_comments.txt","data/diskpaxos/tla/Synod.tla","FALSE","128","1517","8.44","RED","TRUE","2","https://lamport.azurewebsites.net/pubs/disk-paxos.pdf; https://github.com/nano-o/MultiPaxos/blob/master/DiskPaxos.tla","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","Synod","data/diskpaxos/txt/Synod_comments_clean.txt","data/diskpaxos/tla/Synod_clean.tla","TRUE","118","1273","9.27","RED","TRUE","2","https://lamport.azurewebsites.net/pubs/disk-paxos.pdf; https://github.com/nano-o/MultiPaxos/blob/master/DiskPaxos.tla","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"raft","raft","data/raft/txt/raft_comments.txt","data/raft/tla/raft.tla","FALSE","0","0","0","OK","TRUE","2","https://github.com/ongardie/raft.tla; https://raft.github.io/raft.pdf","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"raft","raft_clean","data/raft/txt/raft_comments_clean.txt","data/raft/tla/raft_clean.tla","TRUE","0","0","0","OK","TRUE","2","https://github.com/ongardie/raft.tla; https://raft.github.io/raft.pdf","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"spanning","spanning","data/spanning/txt/spanning_comments.txt","data/spanning/tla/spanning.tla","FALSE","80","2221","3.6","RED","TRUE","1","https://github.com/banhday/tlabenchmarks/tree/master/benchmarks/spanning","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"spanning","spanning","data/spanning/txt/spanning_comments_clean.txt","data/spanning/tla/spanning_clean.tla","TRUE","73","1549","4.71","RED","TRUE","1","https://github.com/banhday/tlabenchmarks/tree/master/benchmarks/spanning","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"tower_of_hanoi","Hanoi","data/tower_of_hanoi/txt/Hanoi_comments.txt","data/tower_of_hanoi/tla/Hanoi.tla","FALSE","5506","7260","75.84","OK","TRUE","2","https://en.wikipedia.org/wiki/Tower_of_Hanoi; https://github.com/tlaplus/Examples/issues/9","","TOWER OF HANOI

PROBLEM DESCRIPTION

The Tower of Hanoi is a classical mathematical puzzle. It consists of three pegs
(or rods) and a number of disks of different sizes. Initially, all disks are
stacked on one peg in decreasing order of size, with the largest disk at the
bottom and the smallest disk at the top.

The objective of the puzzle is to move the entire stack of disks from the source
peg to a target peg, using the remaining peg as an auxiliary, while following
these rules:

1. Only one disk can be moved at a time.
2. A disk can be moved only if it is the topmost disk on a peg.
3. A larger disk may never be placed on top of a smaller disk.

The puzzle is solved when all disks have been transferred to the target peg in
the same order.


MODEL

Let:
n = number of disks
Pegs = {A, B, C}

Each state of the system can be represented as a triple of stacks:
(A, B, C)

where each stack contains disks arranged from bottom to top.

Initial State:
A = [n, n-1, ..., 2, 1]
B = []
C = []

Goal State:
A = []
B = []
C = [n, n-1, ..., 2, 1]

A valid transition consists of moving the top disk from one peg to another peg
such that the disk-placement rules are not violated.



RECURSIVE ALGORITHM

Procedure TOH(n, source, target, auxiliary):

If n == 1:
    Move disk 1 from source to target
    Return
Else:
    TOH(n-1, source, auxiliary, target)
    Move disk n from source to target
    TOH(n-1, auxiliary, target, source)

This recursive strategy works by:
1. Moving the top n?1 disks from the source peg to the auxiliary peg.
2. Moving the largest disk from the source peg to the target peg.
3. Moving the n?1 disks from the auxiliary peg to the target peg.



ITERATIVE ALGORITHM

The total number of moves required to solve the puzzle is:
2^n ? 1

If n is even, the roles of the auxiliary and target pegs are swapped.

Procedure IterativeTOH(n):

Let totalMoves = 2^n ? 1

For i from 1 to totalMoves:
    If i mod 3 == 1:
        Perform the legal move between source and target
    Else if i mod 3 == 2:
        Perform the legal move between source and auxiliary
    Else:
        Perform the legal move between auxiliary and target

A legal move is defined as moving the smaller top disk between the two pegs.



COMPLEXITY

Time Complexity:
O(2^n)

Space Complexity:
O(n) due to recursive call stack


SUMMARY

The Tower of Hanoi problem demonstrates recursion, state transitions, and
constraint-based movement. It is commonly used to illustrate recursive
algorithms, mathematical induction, and formal modeling of state-based systems.
","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: KeithArticle2011.pdf
================================================================================

VINTAGE PLASTIC SLIDING-LETTER PUZZLES
Mike Keith
Furlong, PA
One artifact from my childhood in the 1960’s that I still remember vividly is the series of plastic sliding-
block puzzles manufactured by The Roalex Company of Forest Hills, NY (no relation to the maker of fine
timepieces). These consisted of a high-quality plastic puzzle glued to a piece of cardboard containing
information about the puzzle. Most of their sixty or so
different designs were based on cartoons or TV shows of
the time, such as The Flintstones or The Honeymooners,
and typically consist of a single drawing spread over all
the tiles, or illustrations of four characters from the
show, one in each column. Usually the picture on each
tile is different, which means that, just like the Fifteen
Puzzle, only half of the possible permutations of the tiles
can actually be reached by sliding the tiles.
As a budding

---PDF SEPARATOR---

Source: fifteen-supp.pdf
================================================================================

The Fifteen Puzzle
A Motivating Example for
the Alternating Group
(Supplemental Material for
Intro to Modern Algebra)
Robert A. Beeler∗
August 7, 2015
1 Introduction
In the infamous “Fifteen Puzzle,” numbered tiles are slid either horizontally
or vertically into an empty slot. Folklore tells us that in 1886, puzzle master
Sam Loyd offered a one-thousand dollar prize if anyone could swap tiles 14
and 15 and return the other tiles to their original slots. However, Slocum’s
book [6] argues that the puzzle is much older. Regardless of the origins of the
puzzle, we wish to know if this is possible. Fortunately, the tools of modern
algebra will help us to unravel this puzzle. Our treatment of the puzzle will
follow many of the articles written on this puzzle such as [1, 4, 5, 7].
1 2 3 4 1 2 3 4
5 6 7 8 ? 5 6 7 8
9 10 11 12 → 9 10 11 12
13 14 15 13 15 14
∗Department of Mathematics andSt

---PDF SEPARATOR---

Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|KeithArticle2011.pdf|fifteen-supp.pdf|biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"tower_of_hanoi","Hanoi","data/tower_of_hanoi/txt/Hanoi_comments_clean.txt","data/tower_of_hanoi/tla/Hanoi_clean.tla","TRUE","5245","1419","369.63","OK","TRUE","2","https://en.wikipedia.org/wiki/Tower_of_Hanoi; https://github.com/tlaplus/Examples/issues/9","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: KeithArticle2011.pdf
================================================================================

VINTAGE PLASTIC SLIDING-LETTER PUZZLES
Mike Keith
Furlong, PA
One artifact from my childhood in the 1960’s that I still remember vividly is the series of plastic sliding-
block puzzles manufactured by The Roalex Company of Forest Hills, NY (no relation to the maker of fine
timepieces). These consisted of a high-quality plastic puzzle glued to a piece of cardboard containing
information about the puzzle. Most of their sixty or so
different designs were based on cartoons or TV shows of
the time, such as The Flintstones or The Honeymooners,
and typically consist of a single drawing spread over all
the tiles, or illustrations of four characters from the
show, one in each column. Usually the picture on each
tile is different, which means that, just like the Fifteen
Puzzle, only half of the possible permutations of the tiles
can actually be reached by sliding the tiles.
As a budding

---PDF SEPARATOR---

Source: fifteen-supp.pdf
================================================================================

The Fifteen Puzzle
A Motivating Example for
the Alternating Group
(Supplemental Material for
Intro to Modern Algebra)
Robert A. Beeler∗
August 7, 2015
1 Introduction
In the infamous “Fifteen Puzzle,” numbered tiles are slid either horizontally
or vertically into an empty slot. Folklore tells us that in 1886, puzzle master
Sam Loyd offered a one-thousand dollar prize if anyone could swap tiles 14
and 15 and return the other tiles to their original slots. However, Slocum’s
book [6] argues that the puzzle is much older. Regardless of the origins of the
puzzle, we wish to know if this is possible. Fortunately, the tools of modern
algebra will help us to unravel this puzzle. Our treatment of the puzzle will
follow many of the articles written on this puzzle such as [1, 4, 5, 7].
1 2 3 4 1 2 3 4
5 6 7 8 ? 5 6 7 8
9 10 11 12 → 9 10 11 12
13 14 15 13 15 14
∗Department of Mathematics andSt

---PDF SEPARATOR---

Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|KeithArticle2011.pdf|fifteen-supp.pdf|biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"transaction_commit","TwoPhase","data/transaction_commit/txt/TwoPhase_comments.txt","data/transaction_commit/tla/TwoPhase.tla","FALSE","7613","10127","75.18","OK","TRUE","1","http://research.microsoft.com/en-us/um/people/lamport/pubs/pubs.html#paxos-commit","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"transaction_commit","TwoPhase","data/transaction_commit/txt/TwoPhase_comments_clean.txt","data/transaction_commit/tla/TwoPhase_clean.tla","TRUE","7198","2219","324.38","OK","TRUE","1","http://research.microsoft.com/en-us/um/people/lamport/pubs/pubs.html#paxos-commit","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|inductive-invariant.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"detector_chan96","EnvironmentController","data/detector_chan96/txt/EnvironmentController_comments.txt","data/detector_chan96/tla/EnvironmentController.tla","FALSE","12246","17861","68.56","OK","FALSE","0","","","","",""
"detector_chan96","EnvironmentController","data/detector_chan96/txt/EnvironmentController_comments_clean.txt","data/detector_chan96/tla/EnvironmentController_clean.tla","TRUE","10751","3701","290.49","OK","FALSE","0","","","","",""
"dijkstra-mutex","DijkstraMutex","data/dijkstra-mutex/txt/DijkstraMutex_comments.txt","data/dijkstra-mutex/tla/DijkstraMutex.tla","FALSE","14691","18825","78.04","OK","FALSE","0","","","","",""
"dijkstra-mutex","DijkstraMutex","data/dijkstra-mutex/txt/DijkstraMutex_comments_clean.txt","data/dijkstra-mutex/tla/DijkstraMutex_clean.tla","TRUE","12127","3238","374.52","OK","FALSE","0","","","","",""
"diskpaxos","DiskSynod","data/diskpaxos/txt/DiskSynod_comments.txt","data/diskpaxos/tla/DiskSynod.tla","FALSE","128","4801","2.67","RED","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","DiskSynod","data/diskpaxos/txt/DiskSynod_comments_clean.txt","data/diskpaxos/tla/DiskSynod_clean.tla","TRUE","118","3834","3.08","RED","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","HDiskSynod","data/diskpaxos/txt/HDiskSynod_comments.txt","data/diskpaxos/tla/HDiskSynod.tla","FALSE","172","5169","3.33","RED","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","HDiskSynod","data/diskpaxos/txt/HDiskSynod_comments_clean.txt","data/diskpaxos/tla/HDiskSynod_clean.tla","TRUE","160","3698","4.33","RED","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","Synod","data/diskpaxos/txt/Synod_comments.txt","data/diskpaxos/tla/Synod.tla","FALSE","128","1517","8.44","RED","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"diskpaxos","Synod","data/diskpaxos/txt/Synod_comments_clean.txt","data/diskpaxos/tla/Synod_clean.tla","TRUE","118","1273","9.27","RED","FALSE","0","","","","Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: tr-2005-112.pdf
================================================================================

Fast Paxos
Leslie Lamport
14 July 2005
Revised 18 January 2006
Minor revision 14 April 2006
MSR-TR-2005-112
To appear in Distributed Computing.
Microsoft Research
Microsoft Corporation
One Microsoft Way
Redmond, WA 98052
http://www.research.microsoft.com
Abstract
As used in practice, traditional consensus algorithms require three
message delays before any process can learn the chosen value. Fast
Paxos is an extension of the classic Paxos algorithm that allows the
value to be learned in two message delays. How and why the algo-
rithmworksareexplained informally, anda TLA+ specificationofthe
algorithm appears as an appendix.
Contents
1 Introduction 1
2 The Classic Paxos Algorithm 2
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.2 Safety . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2.1 The Basic Algorithm . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: Guanzhou_Hu_CV.pdf
================================================================================

GUANZHOU HU
josehgz@amazon.com (cid:5) https://josehu.com
WORK EXPERIENCE
Applied Scientist in Amazon S3 Team, Amazon Web Services Aug 2025 - Present
• Research+Engineer: Distributed Cloud Storage, Vector Storage & Indexing, Formal Methods Seattle, WA, USA
Applied Scientist Intern in Amazon S3 Team, Amazon Web Services May 2024 - Aug 2024
• Managers: James Bornholt, Andrew Warfield Seattle, WA, USA
• Topic: Cloud Storage Systems & Automated Reasoning, Cloud Storage for AI Workloads
Research Intern in SOLAR Lab, CSST Program, UCLA Jun 2019 - Sep 2019
• Advisors: John Thorpe, Prof. Guoqing Harry Xu Los Angeles, CA, USA
• Topic: Affordable & Scalable Serverless ML Training Systems (awarded Outstanding Research)
EDUCATION
University of Wisconsin–Madison GPA: 4.00 / 4.00 Aug 2020 - Jul 2025
Ph.D. in Computer Sciences Madison, WI, USA
• Advisors: Prof. Andrea Arpaci-Dusseau and Prof. 

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|tr-2005-112.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|disk-paxos.pdf|Guanzhou_Hu_CV.pdf|summary-standalone.pdf"
"echo","Echo","data/echo/txt/Echo_comments.txt","data/echo/tla/Echo.tla","FALSE","4575","8401","54.46","OK","FALSE","0","","","","",""
"echo","Echo","data/echo/txt/Echo_comments_clean.txt","data/echo/tla/Echo_clean.tla","TRUE","3986","3498","113.95","OK","FALSE","0","","","","",""
"echo","MCEcho","data/echo/txt/MCEcho_comments.txt","data/echo/tla/MCEcho.tla","FALSE","575","1034","55.61","OK","FALSE","0","","","","",""
"echo","MCEcho","data/echo/txt/MCEcho_comments_clean.txt","data/echo/tla/MCEcho_clean.tla","TRUE","475","360","131.94","OK","FALSE","0","","","","",""
"echo","Relation","data/echo/txt/Relation_comments.txt","data/echo/tla/Relation.tla","FALSE","2390","3324","71.9","OK","FALSE","0","","","","",""
"echo","Relation","data/echo/txt/Relation_comments_clean.txt","data/echo/tla/Relation_clean.tla","TRUE","2311","849","272.2","OK","FALSE","0","","","","",""
"ewd426","SimTokenRing","data/ewd426/txt/SimTokenRing_comments.txt","data/ewd426/tla/SimTokenRing.tla","FALSE","347","1119","31.01","OK","FALSE","0","","","","",""
"ewd426","SimTokenRing","data/ewd426/txt/SimTokenRing_comments_clean.txt","data/ewd426/tla/SimTokenRing_clean.tla","TRUE","328","705","46.52","OK","FALSE","0","","","","",""
"ewd426","TokenRing","data/ewd426/txt/TokenRing_comments.txt","data/ewd426/tla/TokenRing.tla","FALSE","720","2124","33.9","OK","FALSE","1","","","","",""
"ewd426","TokenRing","data/ewd426/txt/TokenRing_comments_clean.txt","data/ewd426/tla/TokenRing_clean.tla","TRUE","682","1261","54.08","OK","FALSE","1","","","","",""
"ewd687a","EWD687aPlusCal","data/ewd687a/txt/EWD687aPlusCal_comments.txt","data/ewd687a/tla/EWD687aPlusCal.tla","FALSE","2493","7814","31.9","OK","FALSE","0","","","","",""
"ewd687a","EWD687aPlusCal","data/ewd687a/txt/EWD687aPlusCal_comments_clean.txt","data/ewd687a/tla/EWD687aPlusCal_clean.tla","TRUE","2275","4197","54.21","OK","FALSE","0","","","","",""
"ewd687a","EWD687a_anim","data/ewd687a/txt/EWD687a_anim_comments.txt","data/ewd687a/tla/EWD687a_anim.tla","FALSE","4245","9402","45.15","OK","TRUE","2","References GitHub: github.com/0ui/gif-scrubber.        *)
...","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"ewd687a","EWD687a_anim","data/ewd687a/txt/EWD687a_anim_comments_clean.txt","data/ewd687a/tla/EWD687a_anim_clean.tla","TRUE","3882","4058","95.66","OK","TRUE","2","References GitHub: github.com/0ui/gif-scrubber.        *)...","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"ewd687a","EWD687a","data/ewd687a/txt/EWD687a_comments.txt","data/ewd687a/tla/EWD687a.tla","FALSE","25259","30596","82.56","OK","FALSE","3","","","","",""
"ewd687a","EWD687a","data/ewd687a/txt/EWD687a_comments_clean.txt","data/ewd687a/tla/EWD687a_clean.tla","TRUE","22745","3824","594.8","OK","FALSE","3","","","","",""
"ewd687a","MCEWD687a","data/ewd687a/txt/MCEWD687a_comments.txt","data/ewd687a/tla/MCEWD687a.tla","FALSE","325","786","41.35","OK","FALSE","0","","","","",""
"ewd687a","MCEWD687a","data/ewd687a/txt/MCEWD687a_comments_clean.txt","data/ewd687a/tla/MCEWD687a_clean.tla","TRUE","303","458","66.16","OK","FALSE","0","","","","",""
"ewd840","EWD840_anim","data/ewd840/txt/EWD840_anim_comments.txt","data/ewd840/tla/EWD840_anim.tla","FALSE","1262","9551","13.21","YELLOW","TRUE","1","References GitHub: github.com/tlaplus/CommunityModules/
\* In order to show mes...","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"ewd840","EWD840_anim","data/ewd840/txt/EWD840_anim_comments_clean.txt","data/ewd840/tla/EWD840_anim_clean.tla","TRUE","1198","7734","15.49","YELLOW","TRUE","1","References GitHub: github.com/tlaplus/CommunityModules/
In order to show messag...","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"ewd840","EWD840","data/ewd840/txt/EWD840_comments.txt","data/ewd840/tla/EWD840.tla","FALSE","6457","8932","72.29","OK","FALSE","0","","","","",""
"ewd840","EWD840","data/ewd840/txt/EWD840_comments_clean.txt","data/ewd840/tla/EWD840_clean.tla","TRUE","6223","2345","265.37","OK","FALSE","0","","","","",""
"ewd840","EWD840_json","data/ewd840/txt/EWD840_json_comments.txt","data/ewd840/tla/EWD840_json.tla","FALSE","813","1323","61.45","OK","FALSE","2","","","","",""
"ewd840","EWD840_json","data/ewd840/txt/EWD840_json_comments_clean.txt","data/ewd840/tla/EWD840_json_clean.tla","TRUE","751","299","251.17","OK","FALSE","2","","","","",""
"ewd840","EWD840_proof","data/ewd840/txt/EWD840_proof_comments.txt","data/ewd840/tla/EWD840_proof.tla","FALSE","1453","3566","40.75","OK","FALSE","0","","","","",""
"ewd840","EWD840_proof","data/ewd840/txt/EWD840_proof_comments_clean.txt","data/ewd840/tla/EWD840_proof_clean.tla","TRUE","1400","1855","75.47","OK","FALSE","0","","","","",""
"ewd840","SyncTerminationDetection","data/ewd840/txt/SyncTerminationDetection_comments.txt","data/ewd840/tla/SyncTerminationDetection.tla","FALSE","944","2108","44.78","OK","FALSE","0","","","","",""
"ewd840","SyncTerminationDetection","data/ewd840/txt/SyncTerminationDetection_comments_clean.txt","data/ewd840/tla/SyncTerminationDetection_clean.tla","TRUE","899","1106","81.28","OK","FALSE","0","","","","",""
"ewd840","TLAPS","data/ewd840/txt/TLAPS_comments.txt","data/ewd840/tla/TLAPS.tla","FALSE","17307","21451","80.68","OK","FALSE","0","","","","",""
"ewd840","TLAPS","data/ewd840/txt/TLAPS_comments_clean.txt","data/ewd840/tla/TLAPS_clean.tla","TRUE","15079","3287","458.75","OK","FALSE","0","","","","",""
"ewd998","AsyncTerminationDetection","data/ewd998/txt/AsyncTerminationDetection_comments.txt","data/ewd998/tla/AsyncTerminationDetection.tla","FALSE","2707","4783","56.6","OK","FALSE","0","","","","",""
"ewd998","AsyncTerminationDetection","data/ewd998/txt/AsyncTerminationDetection_comments_clean.txt","data/ewd998/tla/AsyncTerminationDetection_clean.tla","TRUE","2581","1896","136.13","OK","FALSE","0","","","","",""
"ewd998","AsyncTerminationDetection_proof","data/ewd998/txt/AsyncTerminationDetection_proof_comments.txt","data/ewd998/tla/AsyncTerminationDetection_proof.tla","FALSE","1719","5134","33.48","OK","TRUE","1","References GitHub: github.com/tlaplus/tlapm/tree/updated_enabled_cdot.         ...","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"ewd998","AsyncTerminationDetection_proof","data/ewd998/txt/AsyncTerminationDetection_proof_comments_clean.txt","data/ewd998/tla/AsyncTerminationDetection_proof_clean.tla","TRUE","1579","3090","51.1","OK","TRUE","1","References GitHub: github.com/tlaplus/tlapm/tree/updated_enabled_cdot.         ...","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"ewd998","EWD998ChanID","data/ewd998/txt/EWD998ChanID_comments.txt","data/ewd998/tla/EWD998ChanID.tla","FALSE","4657","11262","41.35","OK","FALSE","1","","","","",""
"ewd998","EWD998ChanID","data/ewd998/txt/EWD998ChanID_comments_clean.txt","data/ewd998/tla/EWD998ChanID_clean.tla","TRUE","3996","5220","76.55","OK","FALSE","1","","","","",""
"ewd998","EWD998ChanID_export","data/ewd998/txt/EWD998ChanID_export_comments.txt","data/ewd998/tla/EWD998ChanID_export.tla","FALSE","555","2163","25.66","OK","FALSE","1","","","","",""
"ewd998","EWD998ChanID_export","data/ewd998/txt/EWD998ChanID_export_comments_clean.txt","data/ewd998/tla/EWD998ChanID_export_clean.tla","TRUE","515","1442","35.71","OK","FALSE","1","","","","",""
"ewd998","EWD998ChanID_shiviz","data/ewd998/txt/EWD998ChanID_shiviz_comments.txt","data/ewd998/tla/EWD998ChanID_shiviz.tla","FALSE","1336","3434","38.91","OK","FALSE","2","","","","",""
"ewd998","EWD998ChanID_shiviz","data/ewd998/txt/EWD998ChanID_shiviz_comments_clean.txt","data/ewd998/tla/EWD998ChanID_shiviz_clean.tla","TRUE","1261","1822","69.21","OK","FALSE","2","","","","",""
"ewd998","EWD998ChanTrace","data/ewd998/txt/EWD998ChanTrace_comments.txt","data/ewd998/tla/EWD998ChanTrace.tla","FALSE","5953","15467","38.49","OK","TRUE","1","References GitHub: github.com/edn-format/edn).
\* We happen to know that in the...","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"ewd998","EWD998ChanTrace","data/ewd998/txt/EWD998ChanTrace_comments_clean.txt","data/ewd998/tla/EWD998ChanTrace_clean.tla","TRUE","5685","7966","71.37","OK","TRUE","1","References GitHub: github.com/edn-format/edn).
We happen to know that in the im...","","","Source: RC474.pdf
================================================================================

Chameneos, a Concurrency Game for Java, Ada and
Others
Claude Kaiser, Jean-Franc¸ois Pradat-Peyre
CEDRIC - CNAM Paris
292, rue St Martin, 75003 Paris
(cid:0) kaiser, peyre
(cid:1)
@cnam.fr
I. INTRODUCTION little modification in a part of the code can produce a major
transformation of the application behavior.
Thispaperpresentsapeer-to-peercooperationparadigmand
In high level languages, such as Java and Ada which
severalimplementations.Theparadigmisexpressedasagame.
allow concurrent programming, concurrency control of asyn-
The implementations are done in three different languages
chronous processes, named “threads” in Java, “tasks” in Ada,
largely available to-day (Ada, Java and C with the Posix
relies on the concept of a monitor as introduced by Brinch
standard).Thisallowscomparingtheirprogrammingstyleand
Hansen[3]andHoare[4].Ageneralpresentationofconcurrent
theirabilitytoprovidesecurep

---PDF SEPARATOR---

Source: OSDI04.pdf
================================================================================

Chain Replication for Supporting
High Throughput and Availability
Robbert van Renesse Fred B. Schneider
rvr@cs.cornell.edu fbs@cs.cornell.edu
FAST Search & Transfer ASA
Tromsø, Norway
and
Department of Computer Science
Cornell University
Ithaca, New York 14853
Abstract
pre-programmed, possibly non-deterministic,
computation involving the prior state of that
Chainreplicationis anew approachtocoordinating object.
clustersoffail-stopstorageservers. The approachis
intended for supporting large-scale storage services Afile systemwriteis thus a specialcaseofourstor-
that exhibit high throughput and availability with- age service update which, in turn, is a special case
out sacrificing strong consistency guarantees. Be- of a database transaction.
sidesoutliningthechainreplicationprotocolsthem- Increasingly, we see on-line vendors (like Ama-
selves, simulation experiments explore the perfor- zo

---PDF SEPARATOR---

Source: paxos-simple-Copy.pdf
================================================================================

Paxos Made Simple
Leslie Lamport
01 Nov 2001
Abstract
The Paxos algorithm, when presented in plain English, is very simple.
Contents
1 Introduction 1
2 The Consensus Algorithm 1
2.1 The Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . 1
2.2 Choosing a Value . . . . . . . . . . . . . . . . . . . . . . . . . 2
2.3 Learning a Chosen Value. . . . . . . . . . . . . . . . . . . . . 6
2.4 Progress . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
2.5 The Implementation . . . . . . . . . . . . . . . . . . . . . . . 7
3 Implementing a State Machine 8
References 11
1 Introduction
The Paxos algorithm for implementing a fault-tolerant distributed system
has been regarded as difficult to understand, perhaps because the original
presentation was Greek to many readers [5]. In fact, it is among the sim-
plest and most obvious of distributed algorithms. Atits heart is

---PDF SEPARATOR---

Source: epaxos-sosp2013.pdf
================================================================================

There Is More Consensus in Egalitarian Parliaments
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract This optimization—termed “Multi-Paxos” for systems
basedonthePaxosprotocol[16]—isimportanttoachiev-
Thispaperdescribesthedesignandimplementationof
inghighthroughputinpracticalsystems[7]. Changing
EgalitarianPaxos(EPaxos),anewdistributedconsensus
theleaderrequiresinvokingadditionalconsensusmecha-
algorithmbasedonPaxos. EPaxosachievesthreegoals:
nismsthatsubstantiallyreduceperformance.
(1)optimalcommitlatencyinthewide-areawhentoler-
Thisalgorithmiclimitationhasseveralimportantcon-
atingoneandtwofailures,underrealisticconditions;(2)
sequences. First,itimpairsscalabilitybyplacingadis-
uniformloadbalancingacrossallreplicas(thusachieving
proportionatelyhighloadonthemaster,whichmustpro-
highthroughput);and(3)gracefulperformancedegrada-
cessmorem

---PDF SEPARATOR---

Source: raft.pdf
================================================================================

In Search of an Understandable Consensus Algorithm
(Extended Version)
DiegoOngaroand JohnOusterhout
Stanford University
Abstract state space reduction(relativeto Paxos,Raftreducesthe
Raftisaconsensusalgorithmformanagingareplicated degreeofnondeterminismandthewaysserverscanbein-
log.It producesa resultequivalentto (multi-)Paxos,and consistentwitheachother).Auserstudywith43students
it is as efficient as Paxos, but its structure is different at two universitiesshowsthat Raft is significantlyeasier
from Paxos; this makes Raft more understandable than tounderstandthanPaxos:afterlearningbothalgorithms,
Paxos and also provides a better foundation for build- 33ofthesestudentswereabletoanswerquestionsabout
ingpracticalsystems.Inordertoenhanceunderstandabil- RaftbetterthanquestionsaboutPaxos.
ity,Raftseparatesthekeyelementsofconsensus,suchas Raftissimilar in manywaystoexistingconsensusal-
leaderele

---PDF SEPARATOR---

Source: fast20-wang_zizhong.pdf
================================================================================

CRaft: An Erasure-coding-supported Version
of Raft for Reducing Storage Cost
and Network Cost
Zizhong Wang, Tongliang Li, Haixia Wang, Airan Shao, Yunren Bai,
Shangming Cai, Zihan Xu, and Dongsheng Wang, Tsinghua University
https://www.usenix.org/conference/fast20/presentation/wang-zizhong
This paper is included in the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
February 25–27, 2020 • Santa Clara, CA, USA
978-1-939133-12-0
Open access to the Proceedings of the
18th USENIX Conference on File and
Storage Technologies (FAST ’20)
is sponsored by
CRaft: An Erasure-coding-supported Version of Raft for Reducing Storage Cost
and Network Cost
ZizhongWang†‡∗ TongliangLi†‡∗ HaixiaWang‡ AiranShao†‡ YunrenBai†‡
ShangmingCai†‡ ZihanXu†‡ DongshengWang§†‡
†DepartmentofComputerScienceandTechnology,TsinghuaUniversity
‡BeijingNationalResearchCenterfor

---PDF SEPARATOR---

Source: qrl.pdf
================================================================================

Paxos Quorum Leases: Fast Reads Without Sacrificing Writes
IulianMoraru,DavidG.Andersen,MichaelKaminsky
CarnegieMellonUniversityandIntelLabs
Abstract asthe“stableleader”andisresponsiblefororchestratingall
operations. Absentfailures,Multi-Paxosenablesoperations
Thispaperdescribesquorumleases,anewtechniquethatal- tocommitinasingleroundtripfromtheleadertoamajority
lowsPaxos-basedsystemstoperformreadswithhighthrough- ofreplicas. InaMulti-Paxosenvironment,themostcommon
putandlowlatency. Quorumleasesdonotsacrificeconsis- readleaseoptimizationistograntthestableleaderareadlease
tencyandhaveonlyasmallimpactonsystemavailabilityand onallobjectscomprisingthestate—files,key-valuepairsor
writelatency. Quorumleasesallowamajorityofreplicasto relationaldatabaserecords,dependingontheapplication. As
performstronglyconsistentlocalreads,whichsubstantially aresult,readscanbehandledwithasingleround-triptothe
red","RC474.pdf|OSDI04.pdf|paxos-simple-Copy.pdf|epaxos-sosp2013.pdf|raft.pdf|fast20-wang_zizhong.pdf|qrl.pdf"
"ewd998","EWD998Chan","data/ewd998/txt/EWD998Chan_comments.txt","data/ewd998/tla/EWD998Chan.tla","FALSE","3378","8264","40.88","OK","FALSE","0","","","","",""
"ewd998","EWD998Chan","data/ewd998/txt/EWD998Chan_comments_clean.txt","data/ewd998/tla/EWD998Chan_clean.tla","TRUE","3134","3664","85.53","OK","FALSE","0","","","","",""
"ewd998","EWD998Chan_opts","data/ewd998/txt/EWD998Chan_opts_comments.txt","data/ewd998/tla/EWD998Chan_opts.tla","FALSE","2854","6099","46.79","OK","FALSE","0","","","","",""
"ewd998","EWD998Chan_opts","data/ewd998/txt/EWD998Chan_opts_comments_clean.txt","data/ewd998/tla/EWD998Chan_opts_clean.tla","TRUE","2706","2545","106.33","OK","FALSE","0","","","","",""
"ewd998","EWD998PCal","data/ewd998/txt/EWD998PCal_comments.txt","data/ewd998/tla/EWD998PCal.tla","FALSE","1858","7207","25.78","OK","TRUE","1","References PDF: https://www.cs.utexas.edu/users/EWD/ewd09xx/EWD998...","","","",""
"ewd998","EWD998PCal","data/ewd998/txt/EWD998PCal_comments_clean.txt","data/ewd998/tla/EWD998PCal_clean.tla","TRUE","1721","4442","38.74","OK","TRUE","1","References PDF: https://www.cs.utexas.edu/users/EWD/ewd09xx/EWD998...","","","",""
"ewd998","EWD998_anim","data/ewd998/txt/EWD998_anim_comments.txt","data/ewd998/tla/EWD998_anim.tla","FALSE","1812","9248","19.59","YELLOW","FALSE","1","","","","",""
"ewd998","EWD998_anim","data/ewd998/txt/EWD998_anim_comments_clean.txt","data/ewd998/tla/EWD998_anim_clean.tla","TRUE","1711","6030","28.37","OK","FALSE","1","","","","",""
"ewd998","EWD998","data/ewd998/txt/EWD998_comments.txt","data/ewd998/tla/EWD998.tla","FALSE","4552","8644","52.66","OK","TRUE","1","References PDF: https://www.cs.utexas.edu/users/EWD/ewd09xx/EWD998...","","","",""
"ewd998","EWD998","data/ewd998/txt/EWD998_comments_clean.txt","data/ewd998/tla/EWD998_clean.tla","TRUE","4333","3712","116.73","OK","TRUE","1","References PDF: https://www.cs.utexas.edu/users/EWD/ewd09xx/EWD998...","","","",""
"ewd998","EWD998_optsSC","data/ewd998/txt/EWD998_optsSC_comments.txt","data/ewd998/tla/EWD998_optsSC.tla","FALSE","867","2451","35.37","OK","FALSE","0","","","","",""
"ewd998","EWD998_optsSC","data/ewd998/txt/EWD998_optsSC_comments_clean.txt","data/ewd998/tla/EWD998_optsSC_clean.tla","TRUE","821","1330","61.73","OK","FALSE","0","","","","",""
"ewd998","EWD998_opts","data/ewd998/txt/EWD998_opts_comments.txt","data/ewd998/tla/EWD998_opts.tla","FALSE","3079","6475","47.55","OK","FALSE","0","","","","",""
"ewd998","EWD998_opts","data/ewd998/txt/EWD998_opts_comments_clean.txt","data/ewd998/tla/EWD998_opts_clean.tla","TRUE","2919","2923","99.86","OK","FALSE","0","","","","",""
"ewd998","EWD998_proof","data/ewd998/txt/EWD998_proof_comments.txt","data/ewd998/tla/EWD998_proof.tla","FALSE","4966","37228","13.34","YELLOW","FALSE","0","","","","",""
"ewd998","EWD998_proof","data/ewd998/txt/EWD998_proof_comments_clean.txt","data/ewd998/tla/EWD998_proof_clean.tla","TRUE","4778","27790","17.19","YELLOW","FALSE","0","","","","",""
"ewd998","SmokeEWD998_SC","data/ewd998/txt/SmokeEWD998_SC_comments.txt","data/ewd998/tla/SmokeEWD998_SC.tla","FALSE","548","1678","32.66","OK","FALSE","0","","","","",""
"ewd998","SmokeEWD998_SC","data/ewd998/txt/SmokeEWD998_SC_comments_clean.txt","data/ewd998/tla/SmokeEWD998_SC_clean.tla","TRUE","520","988","52.63","OK","FALSE","0","","","","",""
"ewd998","SmokeEWD998","data/ewd998/txt/SmokeEWD998_comments.txt","data/ewd998/tla/SmokeEWD998.tla","FALSE","1006","2158","46.62","OK","FALSE","0","","","","",""
"ewd998","SmokeEWD998","data/ewd998/txt/SmokeEWD998_comments_clean.txt","data/ewd998/tla/SmokeEWD998_clean.tla","TRUE","963","1036","92.95","OK","FALSE","0","","","","",""
"ewd998","TLAPS","data/ewd998/txt/TLAPS_comments.txt","data/ewd998/tla/TLAPS.tla","FALSE","20034","24756","80.93","OK","FALSE","0","","","","",""
"ewd998","TLAPS","data/ewd998/txt/TLAPS_comments_clean.txt","data/ewd998/tla/TLAPS_clean.tla","TRUE","17270","3853","448.22","OK","FALSE","0","","","","",""
"ewd998","Utils","data/ewd998/txt/Utils_comments.txt","data/ewd998/tla/Utils.tla","FALSE","350","1189","29.44","OK","FALSE","0","","","","",""
"ewd998","Utils","data/ewd998/txt/Utils_comments_clean.txt","data/ewd998/tla/Utils_clean.tla","TRUE","328","719","45.62","OK","FALSE","0","","","","",""
"glowingRaccoon","clean","data/glowingRaccoon/txt/clean_comments.txt","data/glowingRaccoon/tla/clean.tla","FALSE","2256","4013","56.22","OK","FALSE","0","","","","",""
"glowingRaccoon","clean","data/glowingRaccoon/txt/clean_comments_clean.txt","data/glowingRaccoon/tla/clean_clean.tla","TRUE","2060","1406","146.51","OK","FALSE","0","","","","",""
"glowingRaccoon","product","data/glowingRaccoon/txt/product_comments.txt","data/glowingRaccoon/tla/product.tla","FALSE","1641","6896","23.8","OK","FALSE","0","","","","",""
"glowingRaccoon","product","data/glowingRaccoon/txt/product_comments_clean.txt","data/glowingRaccoon/tla/product_clean.tla","TRUE","1457","3635","40.08","OK","FALSE","0","","","","",""
"glowingRaccoon","stages","data/glowingRaccoon/txt/stages_comments.txt","data/glowingRaccoon/tla/stages.tla","FALSE","1450","3764","38.52","OK","FALSE","0","","","","",""
"glowingRaccoon","stages","data/glowingRaccoon/txt/stages_comments_clean.txt","data/glowingRaccoon/tla/stages_clean.tla","TRUE","1299","1729","75.13","OK","FALSE","0","","","","",""
"lamport_mutex","Functions","data/lamport_mutex/txt/Functions_comments.txt","data/lamport_mutex/tla/Functions.tla","FALSE","2735","3398","80.49","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","Functions","data/lamport_mutex/txt/Functions_comments_clean.txt","data/lamport_mutex/tla/Functions_clean.tla","TRUE","2630","656","400.91","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","LamportMutex","data/lamport_mutex/txt/LamportMutex_comments.txt","data/lamport_mutex/tla/LamportMutex.tla","FALSE","5721","8922","64.12","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","LamportMutex","data/lamport_mutex/txt/LamportMutex_comments_clean.txt","data/lamport_mutex/tla/LamportMutex_clean.tla","TRUE","5528","2901","190.55","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","LamportMutex_proofs","data/lamport_mutex/txt/LamportMutex_proofs_comments.txt","data/lamport_mutex/tla/LamportMutex_proofs.tla","FALSE","3150","36037","8.74","RED","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","LamportMutex_proofs","data/lamport_mutex/txt/LamportMutex_proofs_comments_clean.txt","data/lamport_mutex/tla/LamportMutex_proofs_clean.tla","TRUE","3028","26944","11.24","YELLOW","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","NaturalsInduction","data/lamport_mutex/txt/NaturalsInduction_comments.txt","data/lamport_mutex/tla/NaturalsInduction.tla","FALSE","5447","10580","51.48","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","NaturalsInduction","data/lamport_mutex/txt/NaturalsInduction_comments_clean.txt","data/lamport_mutex/tla/NaturalsInduction_clean.tla","TRUE","4958","4602","107.74","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","SequenceTheorems","data/lamport_mutex/txt/SequenceTheorems_comments.txt","data/lamport_mutex/tla/SequenceTheorems.tla","FALSE","5835","25827","22.59","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","SequenceTheorems","data/lamport_mutex/txt/SequenceTheorems_comments_clean.txt","data/lamport_mutex/tla/SequenceTheorems_clean.tla","TRUE","5271","18279","28.84","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","TLAPS","data/lamport_mutex/txt/TLAPS_comments.txt","data/lamport_mutex/tla/TLAPS.tla","FALSE","17307","21451","80.68","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","TLAPS","data/lamport_mutex/txt/TLAPS_comments_clean.txt","data/lamport_mutex/tla/TLAPS_clean.tla","TRUE","15079","3287","458.75","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","WellFoundedInduction","data/lamport_mutex/txt/WellFoundedInduction_comments.txt","data/lamport_mutex/tla/WellFoundedInduction.tla","FALSE","8698","15468","56.23","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"lamport_mutex","WellFoundedInduction","data/lamport_mutex/txt/WellFoundedInduction_comments_clean.txt","data/lamport_mutex/tla/WellFoundedInduction_clean.tla","TRUE","7946","5452","145.74","OK","FALSE","0","","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"nbacc_ray97","nbacc_ray97","data/nbacc_ray97/txt/nbacc_ray97_comments.txt","data/nbacc_ray97/tla/nbacc_ray97.tla","FALSE","1721","4267","40.33","OK","FALSE","0","","","","",""
"nbacc_ray97","nbacc_ray97","data/nbacc_ray97/txt/nbacc_ray97_comments_clean.txt","data/nbacc_ray97/tla/nbacc_ray97_clean.tla","TRUE","1558","2125","73.32","OK","FALSE","0","","","","",""
"nbacg_guer01","nbacg_guer01","data/nbacg_guer01/txt/nbacg_guer01_comments.txt","data/nbacg_guer01/tla/nbacg_guer01.tla","FALSE","2830","8505","33.27","OK","FALSE","0","","","","",""
"nbacg_guer01","nbacg_guer01","data/nbacg_guer01/txt/nbacg_guer01_comments_clean.txt","data/nbacg_guer01/tla/nbacg_guer01_clean.tla","TRUE","2560","4176","61.3","OK","FALSE","0","","","","",""
"spanning","spanning","data/spanning/txt/spanning_comments.txt","data/spanning/tla/spanning.tla","FALSE","80","2221","3.6","RED","FALSE","0","","","","",""
"spanning","spanning","data/spanning/txt/spanning_comments_clean.txt","data/spanning/tla/spanning_clean.tla","TRUE","73","1549","4.71","RED","FALSE","0","","","","",""
"sums_even","TLAPS","data/sums_even/txt/TLAPS_comments.txt","data/sums_even/tla/TLAPS.tla","FALSE","17307","21451","80.68","OK","FALSE","0","","","","",""
"sums_even","TLAPS","data/sums_even/txt/TLAPS_comments_clean.txt","data/sums_even/tla/TLAPS_clean.tla","TRUE","15079","3287","458.75","OK","FALSE","0","","","","",""
"sums_even","sums_even","data/sums_even/txt/sums_even_comments.txt","data/sums_even/tla/sums_even.tla","FALSE","325","1165","27.9","OK","FALSE","0","","","","",""
"sums_even","sums_even","data/sums_even/txt/sums_even_comments_clean.txt","data/sums_even/tla/sums_even_clean.tla","TRUE","306","813","37.64","OK","FALSE","0","","","","",""
"tcp","MCtcp","data/tcp/txt/MCtcp_comments.txt","data/tcp/tla/MCtcp.tla","FALSE","518","1249","41.47","OK","FALSE","0","","","","",""
"tcp","MCtcp","data/tcp/txt/MCtcp_comments_clean.txt","data/tcp/tla/MCtcp_clean.tla","TRUE","496","633","78.36","OK","FALSE","0","","","","",""
"tcp","tcp","data/tcp/txt/tcp_comments.txt","data/tcp/tla/tcp.tla","FALSE","1765","13375","13.2","YELLOW","FALSE","1","","","","",""
"tcp","tcp","data/tcp/txt/tcp_comments_clean.txt","data/tcp/tla/tcp_clean.tla","TRUE","1656","10088","16.42","YELLOW","FALSE","1","","","","",""
"tower_of_hanoi","Bits","data/tower_of_hanoi/txt/Bits_comments.txt","data/tower_of_hanoi/tla/Bits.tla","FALSE","1977","2421","81.66","OK","FALSE","1","","","","Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof","biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf"
"tower_of_hanoi","Bits","data/tower_of_hanoi/txt/Bits_comments_clean.txt","data/tower_of_hanoi/tla/Bits_clean.tla","TRUE","1837","362","507.46","OK","FALSE","1","","","","Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof","biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf"
"tower_of_hanoi","HanoiSeq","data/tower_of_hanoi/txt/HanoiSeq_comments.txt","data/tower_of_hanoi/tla/HanoiSeq.tla","FALSE","4758","6219","76.51","OK","FALSE","1","","","","Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof","biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf"
"tower_of_hanoi","HanoiSeq","data/tower_of_hanoi/txt/HanoiSeq_comments_clean.txt","data/tower_of_hanoi/tla/HanoiSeq_clean.tla","TRUE","4211","1311","321.21","OK","FALSE","1","","","","Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof","biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf"
"tower_of_hanoi","Hanoi","data/tower_of_hanoi/txt/Hanoi_comments.txt","data/tower_of_hanoi/tla/Hanoi.tla","FALSE","5506","7260","75.84","OK","FALSE","0","","","","Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof","biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf"
"tower_of_hanoi","Hanoi","data/tower_of_hanoi/txt/Hanoi_comments_clean.txt","data/tower_of_hanoi/tla/Hanoi_clean.tla","TRUE","5245","1419","369.63","OK","FALSE","0","","","","Source: biblio2.pdf
================================================================================

The Tower of Hanoi: A Bibliography
Paul K. Stockmeyer
Department of Computer Science
College of William and Mary
stockmeyer@cs.wm.edu
Version 2.2
September 12, 2005
Corrected October 22, 2005
This is a substantially enlarged edition of the Tower of Hanoi bibliography first
posted in 1997. In this edition, an attempt has been made to include every rele-
vant document published during the first 100 years of the tower’s history, from 1883
through 1983. Coverage is moreselectivein recentyears. In particular, recentarticles
in psychological journals that discuss uses of the puzzle in testing of subjects, and
articlesinartificialintelligencethat servesimilarpurposes, aregenerallynot included,
nor are textbooks in discrete mathematics or computer science that provide routine
presentations of standard basic information.
The notation MR in a citation, when present, is followed by the new style 

---PDF SEPARATOR---

Source: 0a772baf96a2e11901122a2b04c3dd25596d.pdf
================================================================================

La quatri`eme tour de Hano¨ı
Thierry Bousch∗
15 juin 2014
Abstract
In the four-peg variant of the Towers of Hanoi game, it is well known that N disks can
be transferred from a column to another in 2∇0 +2∇1 +···+2∇(N−1) moves, where ∇n
denotes the largest integer p such that p(p+1)/2 6 n, and it was conjectured that this
number of moves was the minimum possible. We shall see, in this article, that is is indeed
the case.
R´esum´e
Danslavariante`aquatrecolonnesdesToursdeHano¨ı,onsaitbienqu’onpeuttransf´erer
N disques d’une colonne vers une autre en
2∇0+2∇1+···+2∇(N−1)
mouvements, ou` ∇n
d´esigne le plus grand entier p tel que p(p+1)/2 6 n, et on conjecturait que ce nombre de
mouvements ´etait le minimum possible. Nous verrons, dans cet article, que c’est effective-
ment le cas.
Titre anglais: The fourth tower of Hanoi
Mots-cl´es: Tours de Hano¨ı, Conjecture de

---PDF SEPARATOR---

Source: Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower of Bucharest
101
102
FelixHertera,Gu¨nterRotea
103 aInstitutfu¨rInformatik,FreieUniversita¨tBerlinTakustr.9,14195Berlin,Germany
104 Abstract
105 Wegivenewalgorithmsforgeneratingalln-tuplesoveranalphabetofmletters,changingonlyoneletteratatime(Gray
106 codes). ThesealgorithmsarebasedontheconnectionwithvariationsoftheTowerofHanoigame. Ouralgorithms
107 are loopless, in the sense that the next change can be determined in a constant number of steps, and they can be
108 implementedinhardware. Wealsogiveanotherfamilyoflooplessalgorithmsthatisbasedontheideaofworking
109
aheadandsavingtheworkinabuffer.
110 Keywords: TowerofHanoi,Graycode,enumeration,looplessgeneration
111 Contents
112 1 Introduction: ThebinaryreflectedGraycodeandtheTowerofHanoi 2
113 1.1 TheGraycode. . . . . . . . . . . . . . . . . . 

---PDF SEPARATOR---

Source: 1604.06707.pdf
================================================================================

Loopless Gray Code Enumeration and the Tower
of Bucharest
Felix Herter1 and Günter Rote1
1 Institut für Informatik, Freie Universität Berlin
Takustr. 9, 14195 Berlin, Germany
avealx@zedat.fu-berlin.de, rote@inf.fu-berlin.de
Abstract
We give new algorithms for generating all n-tuples over an alphabet of m letters, changing only
one letter at a time (Gray codes). These algorithms are based on the connection with variations
oftheTowersofHanoigame. Ouralgorithmsareloopless,inthesensethatthenextchangecan
be determined in a constant number of steps, and they can be implemented in hardware. We
also give another family of loopless algorithms that is based on the idea of working ahead and
saving the work in a buffer.
1998 ACM Subject Classification F.2.2 Nonnumerical Algorithms and Problems
Keywords and phrases Tower of Hanoi, Gray code, enumeration, loopless generation
Contents
1 Introducti

---PDF SEPARATOR---

Source: 01-intro.pdf
================================================================================

CIS 194: Homework 1
Due Monday, January 14
Whensolvingthehomework,strivetocreatenotjustcodethat
works,butcodethatisstylishandconcise. Seethestyleguideon
thewebsiteforsomegeneralguidelines. Trytowritesmallfunctions
whichperformjustasingletask,andthencombinethosesmaller
piecestocreatemorecomplexfunctions. Don’trepeatyourself: write
onefunctionforeachlogicaltask,andreusefunctionsasnecessary.
Besuretowritefunctionswithexactlythespecifiednameand
typesignatureforeachexercise(tohelpustestyourcode). Youmay
createadditionalhelperfunctionswithwhatevernamesandtype
signaturesyouwish.
1
Validating Credit Card Numbers
Haveyoueverwonderedhowwebsitesvalidateyourcreditcard
numberwhenyoushoponline? Theydon’tcheckamassivedatabase
ofnumbers,andtheydon’tusemagic. Infact,mostcreditproviders
relyonachecksumformulafordistinguishingvalidnumbersfrom
randomcollectionsofdigits(ortypingmistakes).
Inthissection,yo

---PDF SEPARATOR---

Source: zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf
================================================================================

Preprint: To appear in Cognitive Science, 18, 87-122, 1994.
Representations in Distributed Cognitive Tasks
Jiajie Zhang Donald A. Norman
The Ohio State University Apple Computer, Inc.
jiazhang@magnus.acs.ohio-state.edu dnorman@apple.com
ABSTRACT People behave in an information rich
environment filled with natural and ar-
In this paper we propose a theoretical frame- tificial objects extended across space and
work of distributed representations and a time. A wide variety of cognitive tasks,
methodology of representational analysis for the
whether in everyday cognition, scien-
study of distributed cognitive tasksÑtasks that
tific practice, or professional life, require
require the processing of information distributed
the processing of information dis-
across the internal mind and the external envi-
ronment. The basic pr

---PDF SEPARATOR---

Source: the-illusion-of-thinking.pdf
================================================================================

The Illusion of Thinking:
Understanding the Strengths and Limitations of Reasoning Models
via the Lens of Problem Complexity
Parshin Shojaee∗† Iman Mirzadeh∗ Keivan Alizadeh
Maxwell Horton Samy Bengio Mehrdad Farajtabar
Apple
Abstract
Recent generations of frontier language models have introduced Large Reasoning Models
(LRMs) that generate detailed thinking processes before providing answers. While these models
demonstrateimprovedperformanceonreasoningbenchmarks,theirfundamentalcapabilities,scal-
ingproperties,andlimitationsremaininsufficientlyunderstood. Currentevaluationsprimarilyfo-
cusonestablishedmathematicalandcodingbenchmarks,emphasizingfinalansweraccuracy. How-
ever,thisevaluationparadigmoftensuffersfromdatacontaminationanddoesnotprovideinsights
into the reasoning traces’ structure and quality. In this work, we systematically investigate these
gapswiththehelpof","biblio2.pdf|0a772baf96a2e11901122a2b04c3dd25596d.pdf|Loopless+Gray+code+enumeration+and+the+Tower+of+Bucharest.pdf|1604.06707.pdf|01-intro.pdf|zhang%20%281994%29%20representations%20in%20distributed%20cognitive%20tasks.pdf|the-illusion-of-thinking.pdf"
"transaction_commit","2PCwithBTM","data/transaction_commit/txt/2PCwithBTM_comments.txt","data/transaction_commit/tla/2PCwithBTM.tla","FALSE","3074","7152","42.98","OK","TRUE","1","References academic source: http://lamport.azurewebsites.net/tla/two-phase.htm...","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"transaction_commit","2PCwithBTM","data/transaction_commit/txt/2PCwithBTM_comments_clean.txt","data/transaction_commit/tla/2PCwithBTM_clean.tla","TRUE","2706","3181","85.07","OK","TRUE","1","References academic source: http://lamport.azurewebsites.net/tla/two-phase.htm...","","","Source: a_new_approach-corrigendum.pdf
================================================================================

134 Corrigendum
CORRIGENDUM
A New Approach to Proving the Correctness of Multiprocess Programs
L. Lamport, ACM Trans. Programming Languages and Systems 1, 1 (July
1979), 84-97.
Leslie Lamport Recd 24 Sept. 1979
SRI International, 333 Ravenswood Ave., Menlo Park, CA 94025
Axiom A2, on page 89 of the above paper, should read as follows:
A2. IfA ~ B thenA --. B and B -j. A.
ACM Transactions on Programming Languages and Systems, Vol. 2, No. 1, January 1980.

---PDF SEPARATOR---

Source: 1011.2560.pdf
================================================================================

0102
voN
11
]OL.sc[
1v0652.1101:viXra
Verifying Safety Properties With the TLA+ Proof System
KaustuvChaudhuri1,DamienDoligez2,LeslieLamport3,andStephanMerz4
1 INRIASaclay,France,kaustuv.chaudhuri@inria.fr
2 INRIARocquencourt,France,damien.doligez@inria.fr
3 MicrosoftResearchSiliconValley,USA,http://lamport.org
4 INRIANancy,France,stephan.merz@inria.fr
1 Overview
TLAPS, the TLA+ proof system, is a platform for the development and mechanical
verificationofTLA+ proofs.TheTLA+ prooflanguageisdeclarative,andunderstand-
ing proofs requires little background beyond elementary mathematics. The language
supportshierarchicalandnon-linearproofconstructionandverification,anditisinde-
pendentofanyverificationtoolorstrategy.Proofsarewritteninthesamelanguageas
specifications;engineersdo nothave to translatetheir high-leveldesignsinto the lan-
guage of a particularverificationtool. A proof manager i

---PDF SEPARATOR---

Source: dbakery-complete.pdf
================================================================================

Deconstructing the Bakery to Build
a Distributed State Machine
Leslie Lamport
Expanded Version 7 January 2022
Abstract
We connect two well-known concurrent algorithms, the bakery algo-
rithm and a distributed state-machine algorithm, by a sequence of
threemutualexclusionalgorithms. Eachalgorithmisderivedfromthe
preceding one.
Contents
1 Introduction 1
2 The Original Bakery Algorithm 2
3 Generalization of the Original Algorithm 4
4 The Deconstructed Bakery Algorithm 6
5 The Distributed Bakery Algorithm 8
6 A Distributed State Machine 12
7 Ancient and Recent History 15
References 17
Appendix: Proof of Mutual Exclusion 20
1 Introduction
The reader and I, the author, will journey between two concurrent algo-
rithms of the 1970s that are still studied today. We will start at the bakery
algorithm [9] and end at an algorithm for implementing a distributed state
machine [12]. I hope w

---PDF SEPARATOR---

Source: tr-2005-33.pdf
================================================================================

Generalized Consensus and Paxos
Leslie Lamport
3 March 2004
revised 15 March 2005
corrected 28 April 2005
Microsoft Research Technical Report MSR-TR-2005-33
Abstract
Theoretician’s Abstract
Consensus has been regarded as the fundamental problem that must be
solved to implement a fault-tolerant distributed system. However, only a
weaker problem than traditional consensus need be solved. We generalize
theconsensusproblemtoincludebothtraditionalconsensusandthisweaker
version. A straightforward generalization of the Paxos consensus algorithm
implements general consensus. The generalizations of consensus and of the
Paxosalgorithmrequireamathematicaldetour de force intoatypeofobject
called a command-structure set.
Engineer’s Abstract
The state-machine approach to implementing a fault-tolerant distributed
system involves reaching agreement on the sequence of system commands
by executing a 

---PDF SEPARATOR---

Source: tr-2005-30.pdf
================================================================================

Real Time is Really Simple
Leslie Lamport
Microsoft Research
Technical Report MSR-TR-2005-30
4 March 2005
Revised 16 August 2005
Abstract
It is easy to write and verify real-time specifications with existing lan-
guages and methods; one just represents time as an ordinary variable. The
resulting specifications can be verified with ordinary model checkers. This
basic idea and some less obvious details are explained with simple examples.
Contents
1 Introduction 1
2 Specifying a Simple Algorithm 4
2.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 4
2.2 The Untimed Version in TLA+ . . . . . . . . . . . . . . . . . 5
2.3 Adding Timing to an Untimed Specification . . . . . . . . . . 8
2.4 Specification FSpec1: Progress Through Liveness . . . . . . . 10
2.5 Specification FSpec2: Progress Through Timing Bounds . . . 17
3 Proving Correctness of Fischer’s Algorithm 19
3.1 

---PDF SEPARATOR---

Source: vertical-paxos.pdf
================================================================================

Vertical Paxos and Primary-Backup
Replication
Leslie Lamport, Dahlia Malkhi, Lidong Zhou
Microsoft Research
9 February 2009
corrected 26 August 2009, 10 March 2019
Abstract
We introduce a class of Paxos algorithms called Vertical Paxos, in
which reconfiguration can occur in the middle of reaching agreement
on an individual state-machine command. Vertical Paxos algorithms
use an auxiliary configuration master that facilitates agreement on
reconfiguration. A special case of these algorithms leads to traditional
primary-backup protocols. We show how primary-backup systems in
current use can be viewed, and shown to be correct, as instances of
Vertical Paxos algorithms.
Contents
1 Introduction 1
2 Overview of Vertical Paxos 2
3 The Primary Backup Case 4
4 Vertical Paxos 5
4.1 Paxos Preliminaries . . . . . . . . . . . . . . . . . . . . . . . 6
4.2 Vertical Paxos I . . . . . . . . . . 

---PDF SEPARATOR---

Source: web-dsn-submission.pdf
================================================================================

Cheap Paxos
Leslie Lamport and Mike Massa
Appeared in
The International Conference on Dependable Systems and Networks
(DSN 2004)
Cheap Paxos
Leslie Lamport and Mike Massa
Microsoft
Abstract processor is necessary. Suppose the system is imple-
mented by only two processors, p and q, and suppose
Asynchronous algorithms for implementing a fault- thatq fails. Therequirementthatthesystemcontinue
tolerant distributed system, which can make progress tomakeprogressdespiteasinglefailedprocessormeans
despite the failure of any F processors, require 2F +1 that p must continue operating the system. Now sup-
processors. Cheap Paxos, a variant of the Paxos al- pose that p fails and then q is repaired. Since there
gorithm, guarantees liveness under the additional as- is only one failed processor, q must be able to resume
sumption that the set of nonfaulty processors does not operating the 

---PDF SEPARATOR---

Source: pluscal-code.pdf
================================================================================

The PlusCal Code
for
Byzantizing Paxos by Refinement
Leslie Lamport
28 June 2011
Contents
1 Algorithm Consensus 1
2 Algorithm Voting 2
3 Algorithm PCon 5
4 Algorithm BPCon 9
References 13
ThisdocumentcontainsthePlusCalcodeofthefourspecificationsdescribed
in the paper Byzantizing Paxos by Refinement, which is available on the
Web [1]. Comments are indicated by a gray background. The code comes
from the TLA+ modules, which are available on the Web site. The algo-
rithms use some constants that are declared in the TLA+ modules, but the
meanings of those constants should be clear. The code was formatted by
hand, so errors could have been introduced.
1 Algorithm Consensus
Wespecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviors of a consensus algorithm. It uses the variable chosen to represent the set of
all chosen values. The algorithm allows only beha

---PDF SEPARATOR---

Source: Consensus.pdf
================================================================================

module Consensus
Theconsensusproblemrequiresasetofprocessestochooseasinglevalue. Thismodulespecifies
theproblembyspecifyingexactlywhattherequirementsareforchoosingavalue.
extends Naturals, FiniteSets, FiniteSetTheorems, TLAPS
WelettheconstantparameterValue bethesetofallvaluesthatcanbechosen.
constant Value
***************************************************************************
Wenowspecifythesafetypropertyofconsensusasatrivialalgorithmthatdescribestheallowed
behaviorsofaconsensusalgorithm. Itusesthevariablechosen torepresentthesetofallchosen
values. The algorithm is trivial; it allows only behaviors that contain a single state-change in
which the variable chosen is changed from its initial value {} to the value {v} for an arbitrary
valuev inValue. Thealgorithmitselfdoesnotspecifyanyfairnessproperties,soitalsoallowsa
behaviorinwhichchosen isnotchanged. Wecoulduseatranslatoroptiont

---PDF SEPARATOR---

Source: VoteProof.pdf
================================================================================

module VoteProof
Thisisahigh-levelconsensusalgorithminwhichasetofprocessescalledacceptors cooperatively
choose a value. The algorithm uses numbered ballots, where a ballot is a round of voting. Ac-
ceptorscastvotesinballots,castingatmostonevoteperballot. Avalueischosenwhenalarge
enoughsetofacceptors,calledaquorum ,haveallvotedforthesamevalueinthesameballot.
Ballotsarenotexecutedinorder. Differentacceptorsmaybeconcurrentlyperformingactionsfor
differentballots.
extends Integers, NaturalsInduction, FiniteSets, FiniteSetTheorems,
WellFoundedInduction, TLC, TLAPS
constant Value, AsinmoduleConsensus,thesetofchoosablevalues.
Acceptor, Thesetofallacceptors.
Quorum Thesetofallquorums.
The following assumption asserts that a quorum is a set of acceptors, and the fundamental as-
sumptionwemakeaboutquorums: anytwoquorumshaveanon-emptyintersection.
assume QA =∆ ∧∀Q ∈ Quorum :Q ⊆Acceptor
∧∀Q1, Q2 

---PDF SEPARATOR---

Source: PConProof.pdf
================================================================================

module PConProof
ThisisaspecificationofavariantoftheclassicPaxos consensusalgorithmdescribedin
AUTHOR = “Leslie Lamport”, TITLE = “The Part-Time Parliament”, journal = ACM
TransactionsonComputingSystems,
volume =16,
Number =2,Month = may,Year =1998,pages = “133–169”
ThisalgorithmwasalsodescribedwithoutproofinBrian Oki’sPh.D. thesis.
Itdescribestheactionsthatcanbeperformedbyleaders, butdoesnotintroduceexplicitleader
processes. More precisely, the specification is written as if there were a separate leader for each
ballot.
ThisvariantoftheclassicPaxos algorithmisanabstractionofanalgorithmthatisusedin
AUTHOR = “Leslie Lamport and Dahlia Malkhi and Lidong Zhou ”, TITLE = “Vertical
Paxos andPrimary-BackupReplication”,Conference = “ProceedingsofPODC 2009”,
editor ={Srikanta Tirthapura and Lorenzo Alvisi},
publisher ={ACM},YEAR=2009,PAGES = “312–313”
andin
CheappaxosUnitedStatesPatent724928

---PDF SEPARATOR---

Source: BPConProof.pdf
================================================================================

module BPConProof
ThismodulespecifiesaByzantine Paxos algorithm–aversionofPaxos inwhichfailedacceptors
andleaderscanbemalicious. ItisanabstractionandgeneralizationoftheCastro-Liskovalgorithm
in
author = “MiguelCastro andBarbara Liskov”,title = “Practicalbyzantinefaulttolerance
andproactive
recovery”,
journal =ACM TransactionsonComputerSystems,
volume =20,
number =4,year =2002,pages = “398–461”
extends Integers, FiniteSets, FiniteSetTheorems, TLAPS
ThesetsValue andBallot arethesameasintheVotingandPConProof specs.
constant Value
Ballot =∆ Nat
As in module PConProof, we define None to be an unspecified value that is not an element of
Value.
None =∆ choose v :v ∈/ Value
We pretend that which acceptors are good and which are malicious is specified in advance. Of
course,thealgorithmexecutedbythegoodacceptorsmakesnouseofwhichacceptorsarewhich.
Hence,wecanthinkofthesetsofgoodandmaliciousacc

---PDF SEPARATOR---

Source: disk-paxos.pdf
================================================================================

Disk Paxos
Eli Gafni Leslie Lamport
Computer Science Department Microsoft Research
UCLA
14 May 2002
Abstract
We present an algorithm, called Disk Paxos, for implementing a reli-
able distributed system with a network of processors and disks. Like
the original Paxos algorithm, Disk Paxos maintains consistency in the
presenceofarbitrarynon-Byzantinefaults. Progresscanbeguaranteed
as long as a majority of the disks are available, even if all processors
but one have failed.
Contents
1 Introduction 1
2 The State-Machine Approach 2
3 An Informal Description of Disk Synod 3
3.1 The Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . 3
3.2 Why the Algorithm Works . . . . . . . . . . . . . . . . . . . . 5
3.3 Deriving Classic Paxos from Disk Paxos . . . . . . . . . . . . 9
4 Conclusion 10
4.1 Implementation Considerations . . . . . . . . . . . . . . . . . 10
4.2 Concluding Remarks 

---PDF SEPARATOR---

Source: inductive-invariant.pdf
================================================================================

Using TLC to Check Inductive Invariance
Leslie Lamport
23 August 2018
1 Inductive Invariance
Suppose we have a specification with initial predicate Init and next-state
predicate Next, so its specification is Init∧(cid:50)[Next] for the tuple vars of
vars
all its variables.1 Suppose we want to prove that a formula I is an invariant
of the spec, which means that I is true on all reachable states of the spec.
We prove that I is an invariant by finding a formula Inv that satisfies these
conditions:
1. Init ⇒ Inv, which means that Inv is true in all initial states.
2. Inv ∧Next ⇒ Inv (cid:48), which means if Inv is true on any state s, then
it’s true on any state reachable from s by a Next step.2
3. Inv ⇒ I, which means that I is true in every state on which Inv is
true.
Thefirsttwoconditionsimply, byinduction, thatInv istrueoneveryreach-
able state of the spec. A formula satisf

---PDF SEPARATOR---

Source: summary-standalone.pdf
================================================================================

Summary of TLA+
Module-Level Constructs
The Constant Operators
Miscellaneous Constructs
Action Operators
(cid:27)
Temporal Operators
(cid:45)
User-Definable Operator Symbols
Precedence Ranges of Operators
Operators Defined in Standard Modules.
ASCII Representation of Typeset Symbols
1
Module-Level Constructs
module M
Begins the module or submodule named M.
extends M , ... , M
1 n
Incorporates the declarations, definitions, assumptions, and theorems from
(cid:27) the modules named M , ..., M into the current module.
1 n
(cid:45)
constants C , ... , C (1)
1 n
DeclarestheC tobeconstantparameters(rigidvariables). EachC iseither
j j
an identifier or has the form C( , ..., ), the latter form indicating that C
is an operator with the indicated number of arguments.
variables x , ... , x (1)
1 n
Declares the x to be variables (parameters that are flexible variables).
j
assume P
Asser","a_new_approach-corrigendum.pdf|1011.2560.pdf|dbakery-complete.pdf|tr-2005-33.pdf|tr-2005-30.pdf|vertical-paxos.pdf|web-dsn-submission.pdf|pluscal-code.pdf|Consensus.pdf|VoteProof.pdf|PConProof.pdf|BPConProof.pdf|disk-paxos.pdf|inductive-invariant.pdf|summary-standalone.pdf"
"transaction_commit","PaxosCommit","data/transaction_commit/txt/PaxosCommit_comments.txt","data/transaction_commit/tla/PaxosCommit.tla","FALSE","10238","16107","63.56","OK","FALSE","0","","","","",""
"transaction_commit","PaxosCommit","data/transaction_commit/txt/PaxosCommit_comments_clean.txt","data/transaction_commit/tla/PaxosCommit_clean.tla","TRUE","9499","4616","205.78","OK","FALSE","0","","","","",""
"transaction_commit","TCommit","data/transaction_commit/txt/TCommit_comments.txt","data/transaction_commit/tla/TCommit.tla","FALSE","2625","4122","63.68","OK","FALSE","0","","","","",""
"transaction_commit","TCommit","data/transaction_commit/txt/TCommit_comments_clean.txt","data/transaction_commit/tla/TCommit_clean.tla","TRUE","2539","1313","193.37","OK","FALSE","0","","","","",""
"transaction_commit","TwoPhase","data/transaction_commit/txt/TwoPhase_comments.txt","data/transaction_commit/tla/TwoPhase.tla","FALSE","7613","10127","75.18","OK","FALSE","0","","","","",""
"transaction_commit","TwoPhase","data/transaction_commit/txt/TwoPhase_comments_clean.txt","data/transaction_commit/tla/TwoPhase_clean.tla","TRUE","7198","2219","324.38","OK","FALSE","0","","","","",""
